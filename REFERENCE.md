# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Classes

#### Public Classes

* [`puppet`](#puppet): Installs and configures the puppet agent and optionally the puppet server
* [`puppet::server`](#puppet--server): Sets up a puppet server
* [`puppet::server::puppetdb`](#puppet--server--puppetdb): PuppetDB integration

#### Private Classes

* `puppet::agent`: Puppet agent
* `puppet::agent::config`: Puppet agent configuration
* `puppet::agent::install`: Installs the Puppet agent package
* `puppet::agent::service`: Set up the puppet agent as a service
* `puppet::agent::service::cron`: Configures Puppet agent to run via cron
* `puppet::agent::service::daemon`: Configures Puppet agent to run as a daemon service
* `puppet::agent::service::systemd`: Configures Puppet agent to run via systemd timer
* `puppet::config`: Manages the puppet configuration file
* `puppet::params`: Default parameters
* `puppet::server::config`: Set up the puppet server config
* `puppet::server::enc`: Configures External Node Classifier (ENC) for Puppet Server
* `puppet::server::foreman`: Set up Foreman integration
* `puppet::server::install`: Install the puppet server
* `puppet::server::puppetserver`: Manages Puppet Server (JVM-based) configuration and services
* `puppet::server::service`: Manages the Puppet Server service

### Defined types

* [`puppet::config::agent`](#puppet--config--agent): Set a config entry in the [agent] section
* [`puppet::config::entry`](#puppet--config--entry): Set a config entry
* [`puppet::config::main`](#puppet--config--main): Set a config entry in the [main] section
* [`puppet::config::server`](#puppet--config--server): Set a config entry in the [server] section

### Data types

* [`Puppet::Custom_trusted_oid_mapping`](#Puppet--Custom_trusted_oid_mapping): A type for custom trusted OID mappings

## Classes

### <a name="puppet"></a>`puppet`

This class installs and configures the puppet agent and optionally a Puppet server (when
`server` is true). Part of the Foreman installer or to be used as a standalone Puppet module.

Many puppet.conf options for agents, servers and other are parameterized, with
class documentation provided at the top of the manifests. In addition, there
are hash parameters for each configuration section that can be used to supply
any options that are not explicitly supported.

#### Examples

##### Basic agent installation

```puppet
include puppet
```

##### Agent and cron (or daemon)

```puppet
class { 'puppet': runmode => 'cron', agent_server_hostname => 'hostname' }
```

##### Agent and puppetserver

```puppet
class { 'puppet': server => true }
```

##### Advanced usage

```puppet
class {'puppet':
  agent_noop => true,
  version    => '7.24.0-1',
}
```

#### Parameters

The following parameters are available in the `puppet` class:

* [`version`](#-puppet--version)
* [`user`](#-puppet--user)
* [`group`](#-puppet--group)
* [`dir`](#-puppet--dir)
* [`codedir`](#-puppet--codedir)
* [`vardir`](#-puppet--vardir)
* [`logdir`](#-puppet--logdir)
* [`rundir`](#-puppet--rundir)
* [`ssldir`](#-puppet--ssldir)
* [`sharedir`](#-puppet--sharedir)
* [`manage_packages`](#-puppet--manage_packages)
* [`dir_owner`](#-puppet--dir_owner)
* [`dir_group`](#-puppet--dir_group)
* [`package_provider`](#-puppet--package_provider)
* [`package_install_options`](#-puppet--package_install_options)
* [`package_source`](#-puppet--package_source)
* [`agent_server_port`](#-puppet--agent_server_port)
* [`splay`](#-puppet--splay)
* [`splaylimit`](#-puppet--splaylimit)
* [`autosign`](#-puppet--autosign)
* [`autosign_entries`](#-puppet--autosign_entries)
* [`autosign_mode`](#-puppet--autosign_mode)
* [`autosign_content`](#-puppet--autosign_content)
* [`autosign_source`](#-puppet--autosign_source)
* [`runinterval`](#-puppet--runinterval)
* [`usecacheonfailure`](#-puppet--usecacheonfailure)
* [`runmode`](#-puppet--runmode)
* [`run_hour`](#-puppet--run_hour)
* [`run_minute`](#-puppet--run_minute)
* [`run_timezone`](#-puppet--run_timezone)
* [`unavailable_runmodes`](#-puppet--unavailable_runmodes)
* [`cron_cmd`](#-puppet--cron_cmd)
* [`systemd_cmd`](#-puppet--systemd_cmd)
* [`systemd_randomizeddelaysec`](#-puppet--systemd_randomizeddelaysec)
* [`agent_noop`](#-puppet--agent_noop)
* [`agent_default_schedules`](#-puppet--agent_default_schedules)
* [`show_diff`](#-puppet--show_diff)
* [`module_repository`](#-puppet--module_repository)
* [`http_connect_timeout`](#-puppet--http_connect_timeout)
* [`http_read_timeout`](#-puppet--http_read_timeout)
* [`ca_server`](#-puppet--ca_server)
* [`ca_port`](#-puppet--ca_port)
* [`ca_crl_filepath`](#-puppet--ca_crl_filepath)
* [`certificate_revocation`](#-puppet--certificate_revocation)
* [`prerun_command`](#-puppet--prerun_command)
* [`postrun_command`](#-puppet--postrun_command)
* [`dns_alt_names`](#-puppet--dns_alt_names)
* [`use_srv_records`](#-puppet--use_srv_records)
* [`srv_domain`](#-puppet--srv_domain)
* [`pluginsource`](#-puppet--pluginsource)
* [`pluginfactsource`](#-puppet--pluginfactsource)
* [`additional_settings`](#-puppet--additional_settings)
* [`agent_additional_settings`](#-puppet--agent_additional_settings)
* [`agent_restart_command`](#-puppet--agent_restart_command)
* [`classfile`](#-puppet--classfile)
* [`hiera_config`](#-puppet--hiera_config)
* [`allow_any_crl_auth`](#-puppet--allow_any_crl_auth)
* [`auth_allowed`](#-puppet--auth_allowed)
* [`client_package`](#-puppet--client_package)
* [`agent`](#-puppet--agent)
* [`report`](#-puppet--report)
* [`client_certname`](#-puppet--client_certname)
* [`agent_server_hostname`](#-puppet--agent_server_hostname)
* [`systemd_unit_name`](#-puppet--systemd_unit_name)
* [`service_name`](#-puppet--service_name)
* [`syslogfacility`](#-puppet--syslogfacility)
* [`environment`](#-puppet--environment)
* [`server`](#-puppet--server)
* [`server_admin_api_allowlist`](#-puppet--server_admin_api_allowlist)
* [`server_manage_user`](#-puppet--server_manage_user)
* [`server_user`](#-puppet--server_user)
* [`server_group`](#-puppet--server_group)
* [`server_dir`](#-puppet--server_dir)
* [`server_ip`](#-puppet--server_ip)
* [`server_port`](#-puppet--server_port)
* [`server_ca`](#-puppet--server_ca)
* [`server_ca_crl_sync`](#-puppet--server_ca_crl_sync)
* [`server_crl_enable`](#-puppet--server_crl_enable)
* [`server_ca_auth_required`](#-puppet--server_ca_auth_required)
* [`server_ca_client_self_delete`](#-puppet--server_ca_client_self_delete)
* [`server_ca_client_allowlist`](#-puppet--server_ca_client_allowlist)
* [`server_custom_trusted_oid_mapping`](#-puppet--server_custom_trusted_oid_mapping)
* [`server_http`](#-puppet--server_http)
* [`server_http_port`](#-puppet--server_http_port)
* [`server_reports`](#-puppet--server_reports)
* [`server_puppetserver_dir`](#-puppet--server_puppetserver_dir)
* [`server_puppetserver_vardir`](#-puppet--server_puppetserver_vardir)
* [`server_puppetserver_rundir`](#-puppet--server_puppetserver_rundir)
* [`server_puppetserver_logdir`](#-puppet--server_puppetserver_logdir)
* [`server_puppetserver_version`](#-puppet--server_puppetserver_version)
* [`server_external_nodes`](#-puppet--server_external_nodes)
* [`server_trusted_external_command`](#-puppet--server_trusted_external_command)
* [`server_cipher_suites`](#-puppet--server_cipher_suites)
* [`server_connect_timeout`](#-puppet--server_connect_timeout)
* [`server_git_repo`](#-puppet--server_git_repo)
* [`server_default_manifest`](#-puppet--server_default_manifest)
* [`server_default_manifest_path`](#-puppet--server_default_manifest_path)
* [`server_default_manifest_content`](#-puppet--server_default_manifest_content)
* [`server_environments_owner`](#-puppet--server_environments_owner)
* [`server_environments_group`](#-puppet--server_environments_group)
* [`server_environments_mode`](#-puppet--server_environments_mode)
* [`server_environments_recurse`](#-puppet--server_environments_recurse)
* [`server_envs_dir`](#-puppet--server_envs_dir)
* [`server_envs_target`](#-puppet--server_envs_target)
* [`server_common_modules_path`](#-puppet--server_common_modules_path)
* [`server_git_repo_hook_mode`](#-puppet--server_git_repo_hook_mode)
* [`server_git_repo_path`](#-puppet--server_git_repo_path)
* [`server_git_repo_umask`](#-puppet--server_git_repo_umask)
* [`server_git_repo_group`](#-puppet--server_git_repo_group)
* [`server_git_repo_user`](#-puppet--server_git_repo_user)
* [`server_git_branch_map`](#-puppet--server_git_branch_map)
* [`server_idle_timeout`](#-puppet--server_idle_timeout)
* [`server_post_hook_content`](#-puppet--server_post_hook_content)
* [`server_post_hook_name`](#-puppet--server_post_hook_name)
* [`server_storeconfigs`](#-puppet--server_storeconfigs)
* [`server_ruby_load_paths`](#-puppet--server_ruby_load_paths)
* [`server_ssl_dir`](#-puppet--server_ssl_dir)
* [`server_ssl_dir_manage`](#-puppet--server_ssl_dir_manage)
* [`server_ssl_key_manage`](#-puppet--server_ssl_key_manage)
* [`server_ssl_protocols`](#-puppet--server_ssl_protocols)
* [`server_ssl_chain_filepath`](#-puppet--server_ssl_chain_filepath)
* [`server_package`](#-puppet--server_package)
* [`server_version`](#-puppet--server_version)
* [`server_certname`](#-puppet--server_certname)
* [`server_request_timeout`](#-puppet--server_request_timeout)
* [`server_strict_variables`](#-puppet--server_strict_variables)
* [`server_additional_settings`](#-puppet--server_additional_settings)
* [`server_foreman`](#-puppet--server_foreman)
* [`server_foreman_url`](#-puppet--server_foreman_url)
* [`server_foreman_ssl_ca`](#-puppet--server_foreman_ssl_ca)
* [`server_foreman_ssl_cert`](#-puppet--server_foreman_ssl_cert)
* [`server_foreman_ssl_key`](#-puppet--server_foreman_ssl_key)
* [`server_foreman_facts`](#-puppet--server_foreman_facts)
* [`server_puppet_basedir`](#-puppet--server_puppet_basedir)
* [`server_parser`](#-puppet--server_parser)
* [`server_environment_timeout`](#-puppet--server_environment_timeout)
* [`server_jvm_java_bin`](#-puppet--server_jvm_java_bin)
* [`server_jvm_config`](#-puppet--server_jvm_config)
* [`server_jvm_min_heap_size`](#-puppet--server_jvm_min_heap_size)
* [`server_jvm_max_heap_size`](#-puppet--server_jvm_max_heap_size)
* [`server_jvm_extra_args`](#-puppet--server_jvm_extra_args)
* [`server_jvm_cli_args`](#-puppet--server_jvm_cli_args)
* [`server_jruby_gem_home`](#-puppet--server_jruby_gem_home)
* [`server_environment_vars`](#-puppet--server_environment_vars)
* [`server_max_active_instances`](#-puppet--server_max_active_instances)
* [`server_max_requests_per_instance`](#-puppet--server_max_requests_per_instance)
* [`server_max_queued_requests`](#-puppet--server_max_queued_requests)
* [`server_max_retry_delay`](#-puppet--server_max_retry_delay)
* [`server_multithreaded`](#-puppet--server_multithreaded)
* [`server_check_for_updates`](#-puppet--server_check_for_updates)
* [`server_environment_class_cache_enabled`](#-puppet--server_environment_class_cache_enabled)
* [`server_allow_header_cert_info`](#-puppet--server_allow_header_cert_info)
* [`server_web_idle_timeout`](#-puppet--server_web_idle_timeout)
* [`server_puppetserver_metrics`](#-puppet--server_puppetserver_metrics)
* [`server_puppetserver_profiler`](#-puppet--server_puppetserver_profiler)
* [`server_puppetserver_telemetry`](#-puppet--server_puppetserver_telemetry)
* [`server_metrics_jmx_enable`](#-puppet--server_metrics_jmx_enable)
* [`server_metrics_graphite_enable`](#-puppet--server_metrics_graphite_enable)
* [`server_metrics_graphite_host`](#-puppet--server_metrics_graphite_host)
* [`server_metrics_graphite_port`](#-puppet--server_metrics_graphite_port)
* [`server_metrics_server_id`](#-puppet--server_metrics_server_id)
* [`server_metrics_graphite_interval`](#-puppet--server_metrics_graphite_interval)
* [`server_metrics_allowed`](#-puppet--server_metrics_allowed)
* [`server_puppetserver_experimental`](#-puppet--server_puppetserver_experimental)
* [`server_puppetserver_auth_template`](#-puppet--server_puppetserver_auth_template)
* [`server_puppetserver_trusted_agents`](#-puppet--server_puppetserver_trusted_agents)
* [`server_puppetserver_trusted_certificate_extensions`](#-puppet--server_puppetserver_trusted_certificate_extensions)
* [`server_compile_mode`](#-puppet--server_compile_mode)
* [`server_acceptor_threads`](#-puppet--server_acceptor_threads)
* [`server_selector_threads`](#-puppet--server_selector_threads)
* [`server_ssl_acceptor_threads`](#-puppet--server_ssl_acceptor_threads)
* [`server_ssl_selector_threads`](#-puppet--server_ssl_selector_threads)
* [`server_max_threads`](#-puppet--server_max_threads)
* [`server_ca_allow_sans`](#-puppet--server_ca_allow_sans)
* [`server_ca_allow_auth_extensions`](#-puppet--server_ca_allow_auth_extensions)
* [`server_ca_enable_infra_crl`](#-puppet--server_ca_enable_infra_crl)
* [`server_ca_allow_auto_renewal`](#-puppet--server_ca_allow_auto_renewal)
* [`server_ca_allow_auto_renewal_cert_ttl`](#-puppet--server_ca_allow_auto_renewal_cert_ttl)
* [`server_max_open_files`](#-puppet--server_max_open_files)
* [`server_versioned_code_id`](#-puppet--server_versioned_code_id)
* [`server_versioned_code_content`](#-puppet--server_versioned_code_content)
* [`server_jolokia_metrics_allowlist`](#-puppet--server_jolokia_metrics_allowlist)
* [`puppetconf_mode`](#-puppet--puppetconf_mode)

##### <a name="-puppet--version"></a>`version`

Data type: `String`

Specify a specific version of a package to install. The version should be the exact
match for your distro. You can also use certain values like 'latest'.
Note that when you specify exact versions you should also override $server_version since
that defaults to $version.

Default value: `$puppet::params::version`

##### <a name="-puppet--user"></a>`user`

Data type: `String`

Override the name of the puppet user.

Default value: `$puppet::params::user`

##### <a name="-puppet--group"></a>`group`

Data type: `String`

Override the name of the puppet group.

Default value: `$puppet::params::group`

##### <a name="-puppet--dir"></a>`dir`

Data type: `Stdlib::Absolutepath`

Override the puppet directory.

Default value: `$puppet::params::dir`

##### <a name="-puppet--codedir"></a>`codedir`

Data type: `Stdlib::Absolutepath`

Override the puppet code directory.

Default value: `$puppet::params::codedir`

##### <a name="-puppet--vardir"></a>`vardir`

Data type: `Stdlib::Absolutepath`

Override the puppet var directory.

Default value: `$puppet::params::vardir`

##### <a name="-puppet--logdir"></a>`logdir`

Data type: `Stdlib::Absolutepath`

Override the log directory.

Default value: `$puppet::params::logdir`

##### <a name="-puppet--rundir"></a>`rundir`

Data type: `Stdlib::Absolutepath`

Override the PID directory.

Default value: `$puppet::params::rundir`

##### <a name="-puppet--ssldir"></a>`ssldir`

Data type: `Stdlib::Absolutepath`

Override where SSL certificates are kept.

Default value: `$puppet::params::ssldir`

##### <a name="-puppet--sharedir"></a>`sharedir`

Data type: `Stdlib::Absolutepath`

Override the system data directory.

Default value: `$puppet::params::sharedir`

##### <a name="-puppet--manage_packages"></a>`manage_packages`

Data type: `Variant[Boolean, Enum['server', 'agent']]`

Should this module install packages or not. Can also install only server packages with value
of 'server' or only agent packages with 'agent'.

Default value: `$puppet::params::manage_packages`

##### <a name="-puppet--dir_owner"></a>`dir_owner`

Data type: `Optional[String]`

Owner of the base puppet directory, used when puppet::server is false.

Default value: `$puppet::params::dir_owner`

##### <a name="-puppet--dir_group"></a>`dir_group`

Data type: `Optional[String]`

Group of the base puppet directory, used when puppet::server is false.

Default value: `$puppet::params::dir_group`

##### <a name="-puppet--package_provider"></a>`package_provider`

Data type: `Optional[String]`

The provider used to install the agent. Defaults to chocolatey on Windows.
Defaults to undef elsewhere.

Default value: `$puppet::params::package_provider`

##### <a name="-puppet--package_install_options"></a>`package_install_options`

Data type: `Optional[Variant[String,Hash,Array]]`

Flags that should be passed to the package manager during installation. Defaults to undef.
May be a string, an array or a hash, see Puppet Package resource documentation for the provider
matching your package manager.

Default value: `$puppet::params::package_install_options`

##### <a name="-puppet--package_source"></a>`package_source`

Data type: `Optional[Variant[Stdlib::Absolutepath, Stdlib::HTTPUrl]]`

The location of the file to be used by the agent's package resource.
Defaults to undef. If 'windows' or 'msi' are used as the provider then this setting is
required.

Default value: `$puppet::params::package_source`

##### <a name="-puppet--agent_server_port"></a>`agent_server_port`

Data type: `Stdlib::Port`

Override the port of the server we connect to.

Default value: `$puppet::params::agent_server_port`

##### <a name="-puppet--splay"></a>`splay`

Data type: `Boolean`

Switch to enable a random amount of time to sleep before each run.

Default value: `$puppet::params::splay`

##### <a name="-puppet--splaylimit"></a>`splaylimit`

Data type: `Variant[Integer[0],Pattern[/^\d+[smhdy]?$/]]`

The maximum time to delay before runs. Defaults to being the same as the run interval.
This setting can be a time interval in seconds (30 or 30s), minutes (30m), hours (6h),
days (2d), or years (5y).

Default value: `$puppet::params::splaylimit`

##### <a name="-puppet--autosign"></a>`autosign`

Data type: `Variant[Boolean, Stdlib::Absolutepath]`

If set to a boolean, autosign is enabled or disabled for all incoming requests. Otherwise this has to be
set to the full file path of an autosign.conf file or an autosign script. If this is set to a script, make
sure that script considers the content of autosign.conf as otherwise Foreman functionality might be broken.

Default value: `$puppet::params::autosign`

##### <a name="-puppet--autosign_entries"></a>`autosign_entries`

Data type: `Array[String]`

A list of certnames or domain name globs whose certificate requests will automatically be signed.
Defaults to an empty Array.

Default value: `$puppet::params::autosign_entries`

##### <a name="-puppet--autosign_mode"></a>`autosign_mode`

Data type: `Pattern[/^[0-9]{3,4}$/]`

Mode of the autosign file/script.

Default value: `$puppet::params::autosign_mode`

##### <a name="-puppet--autosign_content"></a>`autosign_content`

Data type: `Optional[String]`

If set, write the autosign file content using the value of this parameter.
Cannot be used at the same time as autosign_entries. For example, could be a string, or
file('another_module/autosign.sh') or template('another_module/autosign.sh.erb').

Default value: `$puppet::params::autosign_content`

##### <a name="-puppet--autosign_source"></a>`autosign_source`

Data type: `Optional[String]`

If set, use this as the source for the autosign file, instead of autosign_content.

Default value: `$puppet::params::autosign_source`

##### <a name="-puppet--runinterval"></a>`runinterval`

Data type: `Variant[Integer[0],Pattern[/^\d+[smhdy]?$/]]`

Set up the interval (in seconds) to run the puppet agent.

Default value: `$puppet::params::runinterval`

##### <a name="-puppet--usecacheonfailure"></a>`usecacheonfailure`

Data type: `Boolean`

Switch to enable use of cached catalog on failure of run.

Default value: `$puppet::params::usecacheonfailure`

##### <a name="-puppet--runmode"></a>`runmode`

Data type: `Enum['cron', 'service', 'systemd.timer', 'none', 'unmanaged']`

Select the mode to setup the puppet agent.

Default value: `$puppet::params::runmode`

##### <a name="-puppet--run_hour"></a>`run_hour`

Data type: `Optional[Integer[0,23]]`

The hour at which to run the puppet agent when runmode is cron or systemd.timer.

Default value: `undef`

##### <a name="-puppet--run_minute"></a>`run_minute`

Data type: `Variant[Integer[0,59], Array[Integer[0,59]], Undef]`

The minute at which to run the puppet agent when runmode is cron or systemd.timer.

Default value: `undef`

##### <a name="-puppet--run_timezone"></a>`run_timezone`

Data type: `Optional[String[1]]`

The timezone for the run the puppet agent when runmode is systemd.timer.
Use `timedatectl list-timezones` to list accepted values.

Default value: `undef`

##### <a name="-puppet--unavailable_runmodes"></a>`unavailable_runmodes`

Data type: `Array[Enum['cron', 'service', 'systemd.timer', 'none']]`

Runmodes that are not available for the current system. This module will not try
to disable these modes. Default is [] on Linux, ['cron', 'systemd.timer'] on
Windows and ['systemd.timer'] on other systems.

Default value: `$puppet::params::unavailable_runmodes`

##### <a name="-puppet--cron_cmd"></a>`cron_cmd`

Data type: `Optional[String]`

Specify command to launch when runmode is set 'cron'.

Default value: `$puppet::params::cron_cmd`

##### <a name="-puppet--systemd_cmd"></a>`systemd_cmd`

Data type: `Optional[String]`

Specify command to launch when runmode is set 'systemd.timer'.

Default value: `$puppet::params::systemd_cmd`

##### <a name="-puppet--systemd_randomizeddelaysec"></a>`systemd_randomizeddelaysec`

Data type: `Integer[0]`

Adds a random delay between 0 and this value (in seconds) to the timer. Only relevant when
runmode is 'systemd.timer'.

Default value: `$puppet::params::systemd_randomizeddelaysec`

##### <a name="-puppet--agent_noop"></a>`agent_noop`

Data type: `Boolean`

Run the agent in noop mode.

Default value: `$puppet::params::agent_noop`

##### <a name="-puppet--agent_default_schedules"></a>`agent_default_schedules`

Data type: `Boolean`

A boolean to enable/disable the default schedules.

Default value: `$puppet::params::agent_default_schedules`

##### <a name="-puppet--show_diff"></a>`show_diff`

Data type: `Boolean`

Show and report changed files with diff output.

Default value: `$puppet::params::show_diff`

##### <a name="-puppet--module_repository"></a>`module_repository`

Data type: `Optional[Stdlib::HTTPUrl]`

Use a different puppet module repository.

Default value: `$puppet::params::module_repository`

##### <a name="-puppet--http_connect_timeout"></a>`http_connect_timeout`

Data type: `Optional[Integer[0]]`

The maximum amount of time an agent waits when establishing an HTTP connection.

Default value: `$puppet::params::http_connect_timeout`

##### <a name="-puppet--http_read_timeout"></a>`http_read_timeout`

Data type: `Optional[Integer[0]]`

The time an agent waits for one block to be read from an HTTP connection. If nothing is
read after the elapsed interval then the connection will be closed.

Default value: `$puppet::params::http_read_timeout`

##### <a name="-puppet--ca_server"></a>`ca_server`

Data type: `Optional[Variant[String, Boolean]]`

Use a different ca server. Should be either a string with the location of the ca_server
or 'false'.

Default value: `$puppet::params::ca_server`

##### <a name="-puppet--ca_port"></a>`ca_port`

Data type: `Optional[Stdlib::Port]`

Puppet CA port.

Default value: `$puppet::params::ca_port`

##### <a name="-puppet--ca_crl_filepath"></a>`ca_crl_filepath`

Data type: `Optional[String]`

Path to CA CRL file, dynamically resolves based on $::server_ca status.

Default value: `$puppet::params::ca_crl_filepath`

##### <a name="-puppet--certificate_revocation"></a>`certificate_revocation`

Data type: `Optional[Variant[Boolean, Enum['chain', 'leaf']]]`

Whether certificate revocation checking should be enabled, and what level of checking should be performed.

Default value: `$puppet::params::certificate_revocation`

##### <a name="-puppet--prerun_command"></a>`prerun_command`

Data type: `Optional[String]`

A command which gets executed before each Puppet run.

Default value: `$puppet::params::prerun_command`

##### <a name="-puppet--postrun_command"></a>`postrun_command`

Data type: `Optional[String]`

A command which gets executed after each Puppet run.

Default value: `$puppet::params::postrun_command`

##### <a name="-puppet--dns_alt_names"></a>`dns_alt_names`

Data type: `Array[String]`

Use additional DNS names when generating a certificate. Defaults to an empty Array.

Default value: `$puppet::params::dns_alt_names`

##### <a name="-puppet--use_srv_records"></a>`use_srv_records`

Data type: `Boolean`

Whether DNS SRV records will be used to resolve the Puppet server.

Default value: `$puppet::params::use_srv_records`

##### <a name="-puppet--srv_domain"></a>`srv_domain`

Data type: `Optional[String]`

Search domain for SRV records.

Default value: `$puppet::params::srv_domain`

##### <a name="-puppet--pluginsource"></a>`pluginsource`

Data type: `String`

URL to retrieve Puppet plugins from during pluginsync.

Default value: `$puppet::params::pluginsource`

##### <a name="-puppet--pluginfactsource"></a>`pluginfactsource`

Data type: `String`

URL to retrieve Puppet facts from during pluginsync.

Default value: `$puppet::params::pluginfactsource`

##### <a name="-puppet--additional_settings"></a>`additional_settings`

Data type: `Hash[String, Data]`

A hash of additional main settings.

Default value: `$puppet::params::additional_settings`

##### <a name="-puppet--agent_additional_settings"></a>`agent_additional_settings`

Data type: `Hash[String, Data]`

A hash of additional agent settings. Example: {stringify_facts => true}.

Default value: `$puppet::params::agent_additional_settings`

##### <a name="-puppet--agent_restart_command"></a>`agent_restart_command`

Data type: `Optional[String]`

The command which gets executed on puppet service restart.

Default value: `$puppet::params::agent_restart_command`

##### <a name="-puppet--classfile"></a>`classfile`

Data type: `String`

The file in which puppet agent stores a list of the classes associated with the retrieved configuration.

Default value: `$puppet::params::classfile`

##### <a name="-puppet--hiera_config"></a>`hiera_config`

Data type: `String`

The hiera configuration file.

Default value: `$puppet::params::hiera_config`

##### <a name="-puppet--allow_any_crl_auth"></a>`allow_any_crl_auth`

Data type: `Boolean`

Allow any authentication for the CRL. This is needed on the puppet CA to accept clients
from a the puppet CA proxy.

Default value: `$puppet::params::allow_any_crl_auth`

##### <a name="-puppet--auth_allowed"></a>`auth_allowed`

Data type: `Array[String]`

An array of authenticated nodes allowed to access all catalog and node endpoints.
default to ['$1'].

Default value: `$puppet::params::auth_allowed`

##### <a name="-puppet--client_package"></a>`client_package`

Data type: `Variant[String, Array[String]]`

Install a custom package to provide the puppet client.

Default value: `$puppet::params::client_package`

##### <a name="-puppet--agent"></a>`agent`

Data type: `Boolean`

Should a puppet agent be installed.

Default value: `$puppet::params::agent`

##### <a name="-puppet--report"></a>`report`

Data type: `Boolean`

Send reports to the Puppet Master.

Default value: `$puppet::params::report`

##### <a name="-puppet--client_certname"></a>`client_certname`

Data type: `Variant[String, Boolean]`

The node's certificate name, and the unique identifier it uses when requesting catalogs.

Default value: `$puppet::params::client_certname`

##### <a name="-puppet--agent_server_hostname"></a>`agent_server_hostname`

Data type: `Optional[String]`

Hostname of your puppetserver (server directive in puppet.conf).

Default value: `$puppet::params::agent_server_hostname`

##### <a name="-puppet--systemd_unit_name"></a>`systemd_unit_name`

Data type: `String`

The name of the puppet systemd units.

Default value: `$puppet::params::systemd_unit_name`

##### <a name="-puppet--service_name"></a>`service_name`

Data type: `String`

The name of the puppet agent service.

Default value: `$puppet::params::service_name`

##### <a name="-puppet--syslogfacility"></a>`syslogfacility`

Data type: `Optional[String]`

Facility name to use when logging to syslog.

Default value: `$puppet::params::syslogfacility`

##### <a name="-puppet--environment"></a>`environment`

Data type: `String`

Default environment of the Puppet agent.

Default value: `$puppet::params::environment`

##### <a name="-puppet--server"></a>`server`

Data type: `Boolean`

Should a puppet server be installed as well as the client.

Default value: `$puppet::params::server`

##### <a name="-puppet--server_admin_api_allowlist"></a>`server_admin_api_allowlist`

Data type: `Array[String]`

The allowlist of clients that can query the puppet-admin-api endpoint.
Defaults to [ '127.0.0.1', '::1', $::ipaddress ].

Default value: `$puppet::params::server_admin_api_allowlist`

##### <a name="-puppet--server_manage_user"></a>`server_manage_user`

Data type: `Boolean`

Whether to manage the puppet server user resource.

Default value: `$puppet::params::manage_user`

##### <a name="-puppet--server_user"></a>`server_user`

Data type: `String`

Name of the puppetserver user.

Default value: `$puppet::params::user`

##### <a name="-puppet--server_group"></a>`server_group`

Data type: `String`

Name of the puppetserver group.

Default value: `$puppet::params::group`

##### <a name="-puppet--server_dir"></a>`server_dir`

Data type: `String`

Puppet server configuration directory.

Default value: `$puppet::params::dir`

##### <a name="-puppet--server_ip"></a>`server_ip`

Data type: `String`

Bind ip address of the puppetserver.

Default value: `$puppet::params::ip`

##### <a name="-puppet--server_port"></a>`server_port`

Data type: `Stdlib::Port`

Puppet server port.

Default value: `$puppet::params::agent_server_port`

##### <a name="-puppet--server_ca"></a>`server_ca`

Data type: `Boolean`

Provide puppet CA.

Default value: `$puppet::params::server_ca`

##### <a name="-puppet--server_ca_crl_sync"></a>`server_ca_crl_sync`

Data type: `Boolean`

Sync the puppet ca crl to compilers. Requires compilers to be agents of the
CA server (primary server) defaults to false.

Default value: `$puppet::params::server_ca_crl_sync`

##### <a name="-puppet--server_crl_enable"></a>`server_crl_enable`

Data type: `Optional[Boolean]`

Turn on crl checking. Defaults to true when server_ca is true. Otherwise
Defaults to false. Note unless you are using an external CA. It is recommended
to set this to true.

Default value: `$puppet::params::server_crl_enable`

##### <a name="-puppet--server_ca_auth_required"></a>`server_ca_auth_required`

Data type: `Boolean`

Whether client certificates are needed to access the puppet-admin api.
Defaults to true.

Default value: `$puppet::params::server_ca_auth_required`

##### <a name="-puppet--server_ca_client_self_delete"></a>`server_ca_client_self_delete`

Data type: `Boolean`

Adds a rule to auth.conf, that allows a client to delete its own certificate.
Defaults to false.

Default value: `$puppet::params::server_ca_client_self_delete`

##### <a name="-puppet--server_ca_client_allowlist"></a>`server_ca_client_allowlist`

Data type: `Array[String]`

The allowlist of client certificates that can query the certificate-status endpoint.
Defaults to [ '127.0.0.1', '::1', $::ipaddress ].

Default value: `$puppet::params::server_ca_client_allowlist`

##### <a name="-puppet--server_custom_trusted_oid_mapping"></a>`server_custom_trusted_oid_mapping`

Data type: `Optional[Puppet::Custom_trusted_oid_mapping]`

A hash of custom trusted oid mappings. Defaults to undef.
Example: { 1.3.6.1.4.1.34380.1.2.1.1 => { shortname => 'myshortname' } }.

Default value: `$puppet::params::server_custom_trusted_oid_mapping`

##### <a name="-puppet--server_http"></a>`server_http`

Data type: `Boolean`

Should the puppet server listen on HTTP as well as HTTPS.
Useful for load balancer or reverse proxy scenarios.

Default value: `$puppet::params::server_http`

##### <a name="-puppet--server_http_port"></a>`server_http_port`

Data type: `Stdlib::Port`

Puppet server HTTP port; defaults to 8139.

Default value: `$puppet::params::server_http_port`

##### <a name="-puppet--server_reports"></a>`server_reports`

Data type: `String`

List of report types to include on the puppetserver.

Default value: `$puppet::params::server_reports`

##### <a name="-puppet--server_puppetserver_dir"></a>`server_puppetserver_dir`

Data type: `Optional[Stdlib::Absolutepath]`

The path of the puppetserver config dir.

Default value: `$puppet::params::server_puppetserver_dir`

##### <a name="-puppet--server_puppetserver_vardir"></a>`server_puppetserver_vardir`

Data type: `Optional[Stdlib::Absolutepath]`

The path of the puppetserver var dir.

Default value: `$puppet::params::server_puppetserver_vardir`

##### <a name="-puppet--server_puppetserver_rundir"></a>`server_puppetserver_rundir`

Data type: `Optional[Stdlib::Absolutepath]`

The path of the puppetserver run dir.

Default value: `$puppet::params::server_puppetserver_rundir`

##### <a name="-puppet--server_puppetserver_logdir"></a>`server_puppetserver_logdir`

Data type: `Optional[Stdlib::Absolutepath]`

The path of the puppetserver log dir.

Default value: `$puppet::params::server_puppetserver_logdir`

##### <a name="-puppet--server_puppetserver_version"></a>`server_puppetserver_version`

Data type: `Optional[Pattern[/^[\d]\.[\d]+\.[\d]+$/]]`

The version of puppetserver installed (or being installed).
Unfortunately, different versions of puppetserver need configuring differently.

Default value: `$puppet::params::server_puppetserver_version`

##### <a name="-puppet--server_external_nodes"></a>`server_external_nodes`

Data type: `Variant[Undef, String[0], Stdlib::Absolutepath]`

External nodes classifier executable.

Default value: `$puppet::params::server_external_nodes`

##### <a name="-puppet--server_trusted_external_command"></a>`server_trusted_external_command`

Data type: `Optional[Stdlib::Absolutepath]`

The external trusted facts script to use.

Default value: `$puppet::params::server_trusted_external_command`

##### <a name="-puppet--server_cipher_suites"></a>`server_cipher_suites`

Data type: `Array[String]`

List of SSL ciphers to use in negotiation.

Default value: `$puppet::params::server_cipher_suites`

##### <a name="-puppet--server_connect_timeout"></a>`server_connect_timeout`

Data type: `Integer[0]`

How long the server will wait for a response to a connection attempt.

Default value: `$puppet::params::server_connect_timeout`

##### <a name="-puppet--server_git_repo"></a>`server_git_repo`

Data type: `Boolean`

Use git repository as a source of modules.

Default value: `$puppet::params::server_git_repo`

##### <a name="-puppet--server_default_manifest"></a>`server_default_manifest`

Data type: `Boolean`

Toggle if default_manifest setting should be added to the [main] section.

Default value: `$puppet::params::server_default_manifest`

##### <a name="-puppet--server_default_manifest_path"></a>`server_default_manifest_path`

Data type: `Stdlib::Absolutepath`

A string setting the path to the default_manifest.

Default value: `$puppet::params::server_default_manifest_path`

##### <a name="-puppet--server_default_manifest_content"></a>`server_default_manifest_content`

Data type: `String`

A string to set the content of the default_manifest.
If set to '' it will not manage the file.

Default value: `$puppet::params::server_default_manifest_content`

##### <a name="-puppet--server_environments_owner"></a>`server_environments_owner`

Data type: `String`

The owner of the environments directory.

Default value: `$puppet::params::server_environments_owner`

##### <a name="-puppet--server_environments_group"></a>`server_environments_group`

Data type: `Optional[String]`

The group owning the environments directory.

Default value: `$puppet::params::server_environments_group`

##### <a name="-puppet--server_environments_mode"></a>`server_environments_mode`

Data type: `Pattern[/^[0-9]{3,4}$/]`

Environments directory mode.

Default value: `$puppet::params::server_environments_mode`

##### <a name="-puppet--server_environments_recurse"></a>`server_environments_recurse`

Data type: `Boolean`

Should the environments directory be managed recursively.

Default value: `$puppet::params::server_environments_recurse`

##### <a name="-puppet--server_envs_dir"></a>`server_envs_dir`

Data type: `Array[Stdlib::Absolutepath, 1]`

List of directories that hold puppet environments.
All listed directories will be created and attributes managed,
but only the first listed path will be used to populate
environments from git repo branches.

Default value: `$puppet::params::server_envs_dir`

##### <a name="-puppet--server_envs_target"></a>`server_envs_target`

Data type: `Optional[Stdlib::Absolutepath]`

Indicates that $server_envs_dir should be a symbolic link to this target.

Default value: `$puppet::params::server_envs_target`

##### <a name="-puppet--server_common_modules_path"></a>`server_common_modules_path`

Data type: `Variant[Undef, String[0], Array[Stdlib::Absolutepath]]`

Common modules paths.

Default value: `$puppet::params::server_common_modules_path`

##### <a name="-puppet--server_git_repo_hook_mode"></a>`server_git_repo_hook_mode`

Data type: `Pattern[/^[0-9]{3,4}$/]`

Git repository hook mode.

Default value: `$puppet::params::server_git_repo_hook_mode`

##### <a name="-puppet--server_git_repo_path"></a>`server_git_repo_path`

Data type: `Stdlib::Absolutepath`

Git repository path on disk.

Default value: `$puppet::params::server_git_repo_path`

##### <a name="-puppet--server_git_repo_umask"></a>`server_git_repo_umask`

Data type: `Pattern[/^[0-9]{3,4}$/]`

Umask used during git operations.

Default value: `$puppet::params::server_git_repo_umask`

##### <a name="-puppet--server_git_repo_group"></a>`server_git_repo_group`

Data type: `String`

Git repository group.

Default value: `$puppet::params::server_git_repo_group`

##### <a name="-puppet--server_git_repo_user"></a>`server_git_repo_user`

Data type: `String`

Git repository user.

Default value: `$puppet::params::server_git_repo_user`

##### <a name="-puppet--server_git_branch_map"></a>`server_git_branch_map`

Data type: `Hash[String, String]`

Git branch to puppet env mapping for the default post receive hook.

Default value: `$puppet::params::server_git_branch_map`

##### <a name="-puppet--server_idle_timeout"></a>`server_idle_timeout`

Data type: `Integer[0]`

How long the server will wait for a response on an existing connection.

Default value: `$puppet::params::server_idle_timeout`

##### <a name="-puppet--server_post_hook_content"></a>`server_post_hook_content`

Data type: `String`

Which template to use for git post hook.

Default value: `$puppet::params::server_post_hook_content`

##### <a name="-puppet--server_post_hook_name"></a>`server_post_hook_name`

Data type: `String`

Name of a git hook.

Default value: `$puppet::params::server_post_hook_name`

##### <a name="-puppet--server_storeconfigs"></a>`server_storeconfigs`

Data type: `Boolean`

Whether to enable storeconfigs.

Default value: `$puppet::params::server_storeconfigs`

##### <a name="-puppet--server_ruby_load_paths"></a>`server_ruby_load_paths`

Data type: `Array[Stdlib::Absolutepath]`

List of ruby paths.

Default value: `$puppet::params::server_ruby_load_paths`

##### <a name="-puppet--server_ssl_dir"></a>`server_ssl_dir`

Data type: `Stdlib::Absolutepath`

SSL directory.

Default value: `$puppet::params::server_ssl_dir`

##### <a name="-puppet--server_ssl_dir_manage"></a>`server_ssl_dir_manage`

Data type: `Boolean`

Toggle if ssl_dir should be added to the [server] configuration section.
This is necessary to disable in case CA is delegated to a separate instance.

Default value: `$puppet::params::server_ssl_dir_manage`

##### <a name="-puppet--server_ssl_key_manage"></a>`server_ssl_key_manage`

Data type: `Boolean`

Toggle if "private_keys/${::puppet::server::certname}.pem" should be created
with default user and group. This is used in the default Forman setup to
reuse the key for TLS communication.

Default value: `$puppet::params::server_ssl_key_manage`

##### <a name="-puppet--server_ssl_protocols"></a>`server_ssl_protocols`

Data type: `Array[String]`

Array of SSL protocols to use. Defaults to [ 'TLSv1.3', 'TLSv1.2' ].

Default value: `$puppet::params::server_ssl_protocols`

##### <a name="-puppet--server_ssl_chain_filepath"></a>`server_ssl_chain_filepath`

Data type: `Optional[Stdlib::Absolutepath]`

Path to certificate chain for puppetserver.
Only used when $ca is true. Defaults to "${ssl_dir}/ca/ca_crt.pem".

Default value: `$puppet::params::server_ssl_chain_filepath`

##### <a name="-puppet--server_package"></a>`server_package`

Data type: `Optional[Variant[String, Array[String]]]`

Custom package name for puppet server.

Default value: `$puppet::params::server_package`

##### <a name="-puppet--server_version"></a>`server_version`

Data type: `Optional[String]`

Custom package version for puppet server.

Default value: `$puppet::params::server_version`

##### <a name="-puppet--server_certname"></a>`server_certname`

Data type: `String`

The name to use when handling certificates.

Default value: `$puppet::params::server_certname`

##### <a name="-puppet--server_request_timeout"></a>`server_request_timeout`

Data type: `Integer[0]`

Timeout in node.rb script for fetching catalog from Foreman (in seconds).

Default value: `$puppet::params::server_request_timeout`

##### <a name="-puppet--server_strict_variables"></a>`server_strict_variables`

Data type: `Boolean`

If set to true, it will throw parse errors when accessing undeclared variables.

Default value: `$puppet::params::server_strict_variables`

##### <a name="-puppet--server_additional_settings"></a>`server_additional_settings`

Data type: `Hash[String, Data]`

A hash of additional settings for the server.
Example: {trusted_node_data => true, ordering => 'manifest'}.

Default value: `$puppet::params::server_additional_settings`

##### <a name="-puppet--server_foreman"></a>`server_foreman`

Data type: `Boolean`

Should foreman integration be installed.

Default value: `$puppet::params::server_foreman`

##### <a name="-puppet--server_foreman_url"></a>`server_foreman_url`

Data type: `Optional[Stdlib::HTTPUrl]`

Foreman URL.

Default value: `$puppet::params::server_foreman_url`

##### <a name="-puppet--server_foreman_ssl_ca"></a>`server_foreman_ssl_ca`

Data type: `Optional[Stdlib::Absolutepath]`

SSL CA of the Foreman server.

Default value: `$puppet::params::server_foreman_ssl_ca`

##### <a name="-puppet--server_foreman_ssl_cert"></a>`server_foreman_ssl_cert`

Data type: `Optional[Stdlib::Absolutepath]`

Client certificate for authenticating against Foreman server.

Default value: `$puppet::params::server_foreman_ssl_cert`

##### <a name="-puppet--server_foreman_ssl_key"></a>`server_foreman_ssl_key`

Data type: `Optional[Stdlib::Absolutepath]`

Key for authenticating against Foreman server.

Default value: `$puppet::params::server_foreman_ssl_key`

##### <a name="-puppet--server_foreman_facts"></a>`server_foreman_facts`

Data type: `Boolean`

Should foreman receive facts from puppet.

Default value: `$puppet::params::server_foreman_facts`

##### <a name="-puppet--server_puppet_basedir"></a>`server_puppet_basedir`

Data type: `Optional[Stdlib::Absolutepath]`

Where is the puppet code base located.

Default value: `$puppet::params::server_puppet_basedir`

##### <a name="-puppet--server_parser"></a>`server_parser`

Data type: `Enum['current', 'future']`

Sets the parser to use. Valid options are 'current' or 'future'.
Defaults to 'current'.

Default value: `$puppet::params::server_parser`

##### <a name="-puppet--server_environment_timeout"></a>`server_environment_timeout`

Data type: `Variant[Undef, Enum['unlimited'], Pattern[/^\d+[smhdy]?$/]]`

Timeout for cached compiled catalogs (10s, 5m, ...).

Default value: `$puppet::params::server_environment_timeout`

##### <a name="-puppet--server_jvm_java_bin"></a>`server_jvm_java_bin`

Data type: `Optional[Stdlib::Absolutepath]`

Set the default java to use. If unspecified, it will be derived from the Puppet version.

Default value: `undef`

##### <a name="-puppet--server_jvm_config"></a>`server_jvm_config`

Data type: `String`

Specify the puppetserver jvm configuration file.

Default value: `$puppet::params::server_jvm_config`

##### <a name="-puppet--server_jvm_min_heap_size"></a>`server_jvm_min_heap_size`

Data type: `Pattern[/^[0-9]+[kKmMgG]$/]`

Specify the minimum jvm heap space.

Default value: `$puppet::params::server_jvm_min_heap_size`

##### <a name="-puppet--server_jvm_max_heap_size"></a>`server_jvm_max_heap_size`

Data type: `Pattern[/^[0-9]+[kKmMgG]$/]`

Specify the maximum jvm heap space.

Default value: `$puppet::params::server_jvm_max_heap_size`

##### <a name="-puppet--server_jvm_extra_args"></a>`server_jvm_extra_args`

Data type: `Optional[Variant[String,Array[String]]]`

Additional java options to pass through.
This can be used for Java versions prior to Java 8 to specify the max perm space to use:
For example: '-XX:MaxPermSize=128m'.

Default value: `$puppet::params::server_jvm_extra_args`

##### <a name="-puppet--server_jvm_cli_args"></a>`server_jvm_cli_args`

Data type: `Optional[String]`

Java options to use when using puppetserver subcommands (eg puppetserver gem).

Default value: `$puppet::params::server_jvm_cli_args`

##### <a name="-puppet--server_jruby_gem_home"></a>`server_jruby_gem_home`

Data type: `Optional[Stdlib::Absolutepath]`

Where jruby gems are located for puppetserver.

Default value: `$puppet::params::server_jruby_gem_home`

##### <a name="-puppet--server_environment_vars"></a>`server_environment_vars`

Data type: `Hash[String, String]`

A hash of environment variables and their values which the puppetserver is allowed to see.

Default value: `$puppet::params::server_environment_vars`

##### <a name="-puppet--server_max_active_instances"></a>`server_max_active_instances`

Data type: `Integer[1]`

Max number of active jruby instances. Defaults to processor count.

Default value: `$puppet::params::server_max_active_instances`

##### <a name="-puppet--server_max_requests_per_instance"></a>`server_max_requests_per_instance`

Data type: `Integer[0]`

Max number of requests a jruby instances will handle. Defaults to 0 (disabled).

Default value: `$puppet::params::server_max_requests_per_instance`

##### <a name="-puppet--server_max_queued_requests"></a>`server_max_queued_requests`

Data type: `Integer[0]`

The maximum number of requests that may be queued waiting to borrow a
JRuby from the pool. Defaults to 0 (disabled).

Default value: `$puppet::params::server_max_queued_requests`

##### <a name="-puppet--server_max_retry_delay"></a>`server_max_retry_delay`

Data type: `Integer[0]`

Sets the upper limit for the random sleep set as a Retry-After header on
503 responses returned when max-queued-requests is enabled. Defaults to 1800.

Default value: `$puppet::params::server_max_retry_delay`

##### <a name="-puppet--server_multithreaded"></a>`server_multithreaded`

Data type: `Boolean`

Use multithreaded jruby. Defaults to false.

Default value: `$puppet::params::server_multithreaded`

##### <a name="-puppet--server_check_for_updates"></a>`server_check_for_updates`

Data type: `Boolean`

Should the puppetserver phone home to check for available updates? Defaults to true.

Default value: `$puppet::params::server_check_for_updates`

##### <a name="-puppet--server_environment_class_cache_enabled"></a>`server_environment_class_cache_enabled`

Data type: `Boolean`

Enable environment class cache in conjunction with the use of the environment_classes API.
Defaults to false.

Default value: `$puppet::params::server_environment_class_cache_enabled`

##### <a name="-puppet--server_allow_header_cert_info"></a>`server_allow_header_cert_info`

Data type: `Boolean`

Enable client authentication over HTTP Headers. Defaults to false, is also activated
by the $server_http setting.

Default value: `$puppet::params::server_allow_header_cert_info`

##### <a name="-puppet--server_web_idle_timeout"></a>`server_web_idle_timeout`

Data type: `Integer[0]`

Time in ms that Jetty allows a socket to be idle, after processing has completed.
Defaults to 30000, using the Jetty default of 30s.

Default value: `$puppet::params::server_web_idle_timeout`

##### <a name="-puppet--server_puppetserver_metrics"></a>`server_puppetserver_metrics`

Data type: `Boolean`

Enable puppetserver http-client metrics.

Default value: `true`

##### <a name="-puppet--server_puppetserver_profiler"></a>`server_puppetserver_profiler`

Data type: `Boolean`

Enable JRuby profiling. If set to false, compiler and function metrics will not be
available, (eg. when enabling graphite metrics).

Default value: `true`

##### <a name="-puppet--server_puppetserver_telemetry"></a>`server_puppetserver_telemetry`

Data type: `Optional[Boolean]`

Enable Dropsonde telemetry. Undef means disabled while booleans are explicit opt-in
or opt-out. This is different from Puppetserver's default values.

Default value: `undef`

##### <a name="-puppet--server_metrics_jmx_enable"></a>`server_metrics_jmx_enable`

Data type: `Boolean`

Enable or disable JMX metrics reporter. Defaults to true.

Default value: `$puppet::params::server_metrics_jmx_enable`

##### <a name="-puppet--server_metrics_graphite_enable"></a>`server_metrics_graphite_enable`

Data type: `Boolean`

Enable or disable Graphite metrics reporter. Defaults to false.

Default value: `$puppet::params::server_metrics_graphite_enable`

##### <a name="-puppet--server_metrics_graphite_host"></a>`server_metrics_graphite_host`

Data type: `String`

Graphite server host. Defaults to "127.0.0.1".

Default value: `$puppet::params::server_metrics_graphite_host`

##### <a name="-puppet--server_metrics_graphite_port"></a>`server_metrics_graphite_port`

Data type: `Integer`

Graphite server port. Defaults to 2003.

Default value: `$puppet::params::server_metrics_graphite_port`

##### <a name="-puppet--server_metrics_server_id"></a>`server_metrics_server_id`

Data type: `String`

A server id that will be used as part of the namespace for metrics produced.
Defaults to $fqdn.

Default value: `$puppet::params::server_metrics_server_id`

##### <a name="-puppet--server_metrics_graphite_interval"></a>`server_metrics_graphite_interval`

Data type: `Integer`

How often to send metrics to graphite (in seconds). Defaults to 5.

Default value: `$puppet::params::server_metrics_graphite_interval`

##### <a name="-puppet--server_metrics_allowed"></a>`server_metrics_allowed`

Data type: `Optional[Array]`

Specify metrics to allow in addition to those in the default list.
Defaults to undef.

Default value: `$puppet::params::server_metrics_allowed`

##### <a name="-puppet--server_puppetserver_experimental"></a>`server_puppetserver_experimental`

Data type: `Boolean`

Enable the /puppet/experimental route? Defaults to true.

Default value: `$puppet::params::server_puppetserver_experimental`

##### <a name="-puppet--server_puppetserver_auth_template"></a>`server_puppetserver_auth_template`

Data type: `Optional[String[1]]`

Template for generating /etc/puppetlabs/puppetserver/conf.d/auth.conf.

Default value: `$puppet::params::server_puppetserver_auth_template`

##### <a name="-puppet--server_puppetserver_trusted_agents"></a>`server_puppetserver_trusted_agents`

Data type: `Array[String]`

Certificate names of puppet agents that are allowed to fetch *all* catalogs.
Defaults to [] and all agents are only allowed to fetch their own catalogs.

Default value: `$puppet::params::server_puppetserver_trusted_agents`

##### <a name="-puppet--server_puppetserver_trusted_certificate_extensions"></a>`server_puppetserver_trusted_certificate_extensions`

Data type: `Array[Hash]`

An array of hashes of certificate extensions and values to be used in auth.conf.
A puppet client certificate containing valid extension(s) will be allowed to fetch
*any* catalog. Defaults to [] and no certificate extensions are recognised as being
allowed to fetch *any* catalog.

Default value: `$puppet::params::server_puppetserver_trusted_certificate_extensions`

##### <a name="-puppet--server_compile_mode"></a>`server_compile_mode`

Data type: `Optional[Enum['off', 'jit', 'force']]`

Used to control JRuby's "CompileMode", which may improve performance.
Defaults to undef (off).

Default value: `$puppet::params::server_compile_mode`

##### <a name="-puppet--server_acceptor_threads"></a>`server_acceptor_threads`

Data type: `Optional[Integer[1]]`

This sets the number of threads that the webserver will dedicate to accepting
socket connections for unencrypted HTTP traffic.

Default value: `undef`

##### <a name="-puppet--server_selector_threads"></a>`server_selector_threads`

Data type: `Optional[Integer[1]]`

This sets the number of selectors that the webserver will dedicate to processing
events on connected sockets for unencrypted HTTPS traffic.

Default value: `undef`

##### <a name="-puppet--server_ssl_acceptor_threads"></a>`server_ssl_acceptor_threads`

Data type: `Optional[Integer[1]]`

This sets the number of threads that the webserver will dedicate to accepting
socket connections for encrypted HTTPS traffic.

Default value: `undef`

##### <a name="-puppet--server_ssl_selector_threads"></a>`server_ssl_selector_threads`

Data type: `Optional[Integer[1]]`

This sets the number of selectors that the webserver will dedicate to processing
events on connected sockets for encrypted HTTPS traffic.

Default value: `undef`

##### <a name="-puppet--server_max_threads"></a>`server_max_threads`

Data type: `Optional[Integer[1]]`

This sets the maximum number of threads assigned to responding to HTTP and/or
HTTPS requests for a single webserver.

Default value: `undef`

##### <a name="-puppet--server_ca_allow_sans"></a>`server_ca_allow_sans`

Data type: `Boolean`

Allow CA to sign certificate requests that have Subject Alternative Names.
Defaults to false.

Default value: `$puppet::params::server_ca_allow_sans`

##### <a name="-puppet--server_ca_allow_auth_extensions"></a>`server_ca_allow_auth_extensions`

Data type: `Boolean`

Allow CA to sign certificate requests that have authorization extensions.
Defaults to false.

Default value: `$puppet::params::server_ca_allow_auth_extensions`

##### <a name="-puppet--server_ca_enable_infra_crl"></a>`server_ca_enable_infra_crl`

Data type: `Boolean`

Enable the separate CRL for Puppet infrastructure nodes. Defaults to false.

Default value: `$puppet::params::server_ca_enable_infra_crl`

##### <a name="-puppet--server_ca_allow_auto_renewal"></a>`server_ca_allow_auto_renewal`

Data type: `Boolean`

Enable the auto renewal for client certificates. Defaults to false.

Default value: `$puppet::params::server_ca_allow_auto_renewal`

##### <a name="-puppet--server_ca_allow_auto_renewal_cert_ttl"></a>`server_ca_allow_auto_renewal_cert_ttl`

Data type: `String`

Set the auto renewal interval for client certificates. Defaults to 60d.

Default value: `$puppet::params::server_ca_allow_auto_renewal_cert_ttl`

##### <a name="-puppet--server_max_open_files"></a>`server_max_open_files`

Data type: `Optional[Integer[1]]`

Increase the max open files limit for Puppetserver. Defaults to undef.

Default value: `$puppet::params::server_max_open_files`

##### <a name="-puppet--server_versioned_code_id"></a>`server_versioned_code_id`

Data type: `Optional[Stdlib::Absolutepath]`

The path to an executable script that Puppet Server invokes to generate a code_id.
Defaults to undef.

Default value: `undef`

##### <a name="-puppet--server_versioned_code_content"></a>`server_versioned_code_content`

Data type: `Optional[Stdlib::Absolutepath]`

Contains the path to an executable script that Puppet Server invokes when on
static_file_content requests. Defaults to undef.

Default value: `undef`

##### <a name="-puppet--server_jolokia_metrics_allowlist"></a>`server_jolokia_metrics_allowlist`

Data type: `Array[String[1]]`

The allowlist of clients that can query the jolokia /metrics/v2 endpoint.

Default value: `[]`

##### <a name="-puppet--puppetconf_mode"></a>`puppetconf_mode`

Data type: `Stdlib::Filemode`

The permissions for /etc/puppetlabs/puppet/puppet.conf default to '0644' and '0674' on windows.

Default value: `$puppet::params::puppetconf_mode`

### <a name="puppet--server"></a>`puppet::server`

Sets up a puppet server with all necessary configuration, certificates, and services.
This class handles the installation and configuration of Puppet Server (JVM-based)
and provides extensive customization options for production deployments.

#### Examples

##### Basic puppet server setup

```puppet
include puppet::server
```

##### Server with Foreman integration

```puppet
class { 'puppet::server':
  foreman     => true,
  foreman_url => 'https://foreman.example.com',
}
```

##### Server with custom JVM settings

```puppet
class { 'puppet::server':
  jvm_min_heap_size => '1g',
  jvm_max_heap_size => '4g',
  jvm_extra_args    => ['-XX:+UseG1GC'],
}
```

#### Parameters

The following parameters are available in the `puppet::server` class:

* [`autosign`](#-puppet--server--autosign)
* [`autosign_entries`](#-puppet--server--autosign_entries)
* [`autosign_mode`](#-puppet--server--autosign_mode)
* [`autosign_content`](#-puppet--server--autosign_content)
* [`autosign_source`](#-puppet--server--autosign_source)
* [`hiera_config`](#-puppet--server--hiera_config)
* [`manage_user`](#-puppet--server--manage_user)
* [`user`](#-puppet--server--user)
* [`group`](#-puppet--server--group)
* [`dir`](#-puppet--server--dir)
* [`ip`](#-puppet--server--ip)
* [`port`](#-puppet--server--port)
* [`ca`](#-puppet--server--ca)
* [`ca_crl_filepath`](#-puppet--server--ca_crl_filepath)
* [`ca_crl_sync`](#-puppet--server--ca_crl_sync)
* [`crl_enable`](#-puppet--server--crl_enable)
* [`http`](#-puppet--server--http)
* [`http_port`](#-puppet--server--http_port)
* [`reports`](#-puppet--server--reports)
* [`external_nodes`](#-puppet--server--external_nodes)
* [`trusted_external_command`](#-puppet--server--trusted_external_command)
* [`git_repo`](#-puppet--server--git_repo)
* [`environments_owner`](#-puppet--server--environments_owner)
* [`environments_group`](#-puppet--server--environments_group)
* [`environments_mode`](#-puppet--server--environments_mode)
* [`environments_recurse`](#-puppet--server--environments_recurse)
* [`envs_dir`](#-puppet--server--envs_dir)
* [`envs_target`](#-puppet--server--envs_target)
* [`common_modules_path`](#-puppet--server--common_modules_path)
* [`git_repo_path`](#-puppet--server--git_repo_path)
* [`git_repo_umask`](#-puppet--server--git_repo_umask)
* [`git_repo_hook_mode`](#-puppet--server--git_repo_hook_mode)
* [`git_repo_group`](#-puppet--server--git_repo_group)
* [`git_repo_user`](#-puppet--server--git_repo_user)
* [`git_branch_map`](#-puppet--server--git_branch_map)
* [`post_hook_content`](#-puppet--server--post_hook_content)
* [`post_hook_name`](#-puppet--server--post_hook_name)
* [`storeconfigs`](#-puppet--server--storeconfigs)
* [`ssl_dir`](#-puppet--server--ssl_dir)
* [`package`](#-puppet--server--package)
* [`version`](#-puppet--server--version)
* [`certname`](#-puppet--server--certname)
* [`strict_variables`](#-puppet--server--strict_variables)
* [`additional_settings`](#-puppet--server--additional_settings)
* [`parser`](#-puppet--server--parser)
* [`max_open_files`](#-puppet--server--max_open_files)
* [`codedir`](#-puppet--server--codedir)
* [`server_foreman_facts`](#-puppet--server--server_foreman_facts)
* [`foreman`](#-puppet--server--foreman)
* [`foreman_url`](#-puppet--server--foreman_url)
* [`foreman_ssl_ca`](#-puppet--server--foreman_ssl_ca)
* [`foreman_ssl_cert`](#-puppet--server--foreman_ssl_cert)
* [`foreman_ssl_key`](#-puppet--server--foreman_ssl_key)
* [`puppet_basedir`](#-puppet--server--puppet_basedir)
* [`compile_mode`](#-puppet--server--compile_mode)
* [`request_timeout`](#-puppet--server--request_timeout)
* [`environment_timeout`](#-puppet--server--environment_timeout)
* [`jvm_java_bin`](#-puppet--server--jvm_java_bin)
* [`jvm_config`](#-puppet--server--jvm_config)
* [`jvm_min_heap_size`](#-puppet--server--jvm_min_heap_size)
* [`jvm_max_heap_size`](#-puppet--server--jvm_max_heap_size)
* [`jvm_extra_args`](#-puppet--server--jvm_extra_args)
* [`jvm_cli_args`](#-puppet--server--jvm_cli_args)
* [`jruby_gem_home`](#-puppet--server--jruby_gem_home)
* [`server_environment_vars`](#-puppet--server--server_environment_vars)
* [`default_manifest`](#-puppet--server--default_manifest)
* [`default_manifest_path`](#-puppet--server--default_manifest_path)
* [`default_manifest_content`](#-puppet--server--default_manifest_content)
* [`ssl_dir_manage`](#-puppet--server--ssl_dir_manage)
* [`ssl_key_manage`](#-puppet--server--ssl_key_manage)
* [`puppetserver_vardir`](#-puppet--server--puppetserver_vardir)
* [`puppetserver_rundir`](#-puppet--server--puppetserver_rundir)
* [`puppetserver_logdir`](#-puppet--server--puppetserver_logdir)
* [`puppetserver_dir`](#-puppet--server--puppetserver_dir)
* [`puppetserver_version`](#-puppet--server--puppetserver_version)
* [`max_active_instances`](#-puppet--server--max_active_instances)
* [`max_requests_per_instance`](#-puppet--server--max_requests_per_instance)
* [`max_queued_requests`](#-puppet--server--max_queued_requests)
* [`max_retry_delay`](#-puppet--server--max_retry_delay)
* [`multithreaded`](#-puppet--server--multithreaded)
* [`idle_timeout`](#-puppet--server--idle_timeout)
* [`connect_timeout`](#-puppet--server--connect_timeout)
* [`web_idle_timeout`](#-puppet--server--web_idle_timeout)
* [`ssl_protocols`](#-puppet--server--ssl_protocols)
* [`ssl_chain_filepath`](#-puppet--server--ssl_chain_filepath)
* [`cipher_suites`](#-puppet--server--cipher_suites)
* [`ruby_load_paths`](#-puppet--server--ruby_load_paths)
* [`ca_client_allowlist`](#-puppet--server--ca_client_allowlist)
* [`custom_trusted_oid_mapping`](#-puppet--server--custom_trusted_oid_mapping)
* [`admin_api_allowlist`](#-puppet--server--admin_api_allowlist)
* [`ca_auth_required`](#-puppet--server--ca_auth_required)
* [`ca_client_self_delete`](#-puppet--server--ca_client_self_delete)
* [`check_for_updates`](#-puppet--server--check_for_updates)
* [`environment_class_cache_enabled`](#-puppet--server--environment_class_cache_enabled)
* [`allow_header_cert_info`](#-puppet--server--allow_header_cert_info)
* [`puppetserver_metrics`](#-puppet--server--puppetserver_metrics)
* [`puppetserver_profiler`](#-puppet--server--puppetserver_profiler)
* [`puppetserver_telemetry`](#-puppet--server--puppetserver_telemetry)
* [`metrics_jmx_enable`](#-puppet--server--metrics_jmx_enable)
* [`metrics_graphite_enable`](#-puppet--server--metrics_graphite_enable)
* [`metrics_graphite_host`](#-puppet--server--metrics_graphite_host)
* [`metrics_graphite_port`](#-puppet--server--metrics_graphite_port)
* [`metrics_server_id`](#-puppet--server--metrics_server_id)
* [`metrics_graphite_interval`](#-puppet--server--metrics_graphite_interval)
* [`metrics_allowed`](#-puppet--server--metrics_allowed)
* [`puppetserver_experimental`](#-puppet--server--puppetserver_experimental)
* [`puppetserver_auth_template`](#-puppet--server--puppetserver_auth_template)
* [`puppetserver_trusted_agents`](#-puppet--server--puppetserver_trusted_agents)
* [`puppetserver_trusted_certificate_extensions`](#-puppet--server--puppetserver_trusted_certificate_extensions)
* [`ca_allow_sans`](#-puppet--server--ca_allow_sans)
* [`ca_allow_auth_extensions`](#-puppet--server--ca_allow_auth_extensions)
* [`ca_enable_infra_crl`](#-puppet--server--ca_enable_infra_crl)
* [`server_ca_allow_auto_renewal`](#-puppet--server--server_ca_allow_auto_renewal)
* [`server_ca_allow_auto_renewal_cert_ttl`](#-puppet--server--server_ca_allow_auto_renewal_cert_ttl)
* [`acceptor_threads`](#-puppet--server--acceptor_threads)
* [`selector_threads`](#-puppet--server--selector_threads)
* [`max_threads`](#-puppet--server--max_threads)
* [`ssl_acceptor_threads`](#-puppet--server--ssl_acceptor_threads)
* [`ssl_selector_threads`](#-puppet--server--ssl_selector_threads)
* [`versioned_code_id`](#-puppet--server--versioned_code_id)
* [`versioned_code_content`](#-puppet--server--versioned_code_content)
* [`jolokia_metrics_allowlist`](#-puppet--server--jolokia_metrics_allowlist)

##### <a name="-puppet--server--autosign"></a>`autosign`

Data type: `Variant[Boolean, Stdlib::Absolutepath]`

If set to a boolean, autosign is enabled or disabled for all incoming requests.
Otherwise this has to be set to the full file path of an autosign.conf file or
an autosign script. If this is set to a script, make sure that script considers
the content of autosign.conf as otherwise Foreman functionality might be broken.

Default value: `$puppet::autosign`

##### <a name="-puppet--server--autosign_entries"></a>`autosign_entries`

Data type: `Array[String]`

A list of certnames or domain name globs whose certificate requests will
automatically be signed. Defaults to an empty Array.

Default value: `$puppet::autosign_entries`

##### <a name="-puppet--server--autosign_mode"></a>`autosign_mode`

Data type: `Pattern[/^[0-9]{3,4}$/]`

Mode of the autosign file/script.

Default value: `$puppet::autosign_mode`

##### <a name="-puppet--server--autosign_content"></a>`autosign_content`

Data type: `Optional[String]`

If set, write the autosign file content using the value of this parameter.
Cannot be used at the same time as autosign_entries. For example, could be a string, or
file('another_module/autosign.sh') or template('another_module/autosign.sh.erb').

Default value: `$puppet::autosign_content`

##### <a name="-puppet--server--autosign_source"></a>`autosign_source`

Data type: `Optional[String]`

If set, use this as the source for the autosign file, instead of autosign_content.

Default value: `$puppet::autosign_source`

##### <a name="-puppet--server--hiera_config"></a>`hiera_config`

Data type: `String`

The hiera configuration file.

Default value: `$puppet::hiera_config`

##### <a name="-puppet--server--manage_user"></a>`manage_user`

Data type: `Boolean`

Whether to manage the puppet user resource.

Default value: `$puppet::server_manage_user`

##### <a name="-puppet--server--user"></a>`user`

Data type: `String`

Name of the puppetserver user.

Default value: `$puppet::server_user`

##### <a name="-puppet--server--group"></a>`group`

Data type: `String`

Name of the puppetserver group.

Default value: `$puppet::server_group`

##### <a name="-puppet--server--dir"></a>`dir`

Data type: `String`

Puppet configuration directory.

Default value: `$puppet::server_dir`

##### <a name="-puppet--server--ip"></a>`ip`

Data type: `String`

Bind ip address of the puppetserver.

Default value: `$puppet::server_ip`

##### <a name="-puppet--server--port"></a>`port`

Data type: `Stdlib::Port`

Puppet server port.

Default value: `$puppet::server_port`

##### <a name="-puppet--server--ca"></a>`ca`

Data type: `Boolean`

Provide puppet CA.

Default value: `$puppet::server_ca`

##### <a name="-puppet--server--ca_crl_filepath"></a>`ca_crl_filepath`

Data type: `Optional[String]`

Path to ca_crl file.

Default value: `$puppet::ca_crl_filepath`

##### <a name="-puppet--server--ca_crl_sync"></a>`ca_crl_sync`

Data type: `Boolean`

Sync the puppet ca crl to compilers. Requires compilers to be agents of the
CA server (primary server) defaults to false.

Default value: `$puppet::server_ca_crl_sync`

##### <a name="-puppet--server--crl_enable"></a>`crl_enable`

Data type: `Optional[Boolean]`

Enable CRL processing, defaults to true when $ca is true else defaults to false.

Default value: `$puppet::server_crl_enable`

##### <a name="-puppet--server--http"></a>`http`

Data type: `Boolean`

Should the puppet server listen on HTTP as well as HTTPS.
Useful for load balancer or reverse proxy scenarios.

Default value: `$puppet::server_http`

##### <a name="-puppet--server--http_port"></a>`http_port`

Data type: `Stdlib::Port`

Puppet server HTTP port; defaults to 8139.

Default value: `$puppet::server_http_port`

##### <a name="-puppet--server--reports"></a>`reports`

Data type: `String`

List of report types to include on the puppetserver.

Default value: `$puppet::server_reports`

##### <a name="-puppet--server--external_nodes"></a>`external_nodes`

Data type: `Variant[Undef, String[0], Stdlib::Absolutepath]`

External nodes classifier executable.

Default value: `$puppet::server_external_nodes`

##### <a name="-puppet--server--trusted_external_command"></a>`trusted_external_command`

Data type: `Optional[Stdlib::Absolutepath]`

The external trusted facts script to use.

Default value: `$puppet::server_trusted_external_command`

##### <a name="-puppet--server--git_repo"></a>`git_repo`

Data type: `Boolean`

Use git repository as a source of modules.

Default value: `$puppet::server_git_repo`

##### <a name="-puppet--server--environments_owner"></a>`environments_owner`

Data type: `String`

The owner of the environments directory.

Default value: `$puppet::server_environments_owner`

##### <a name="-puppet--server--environments_group"></a>`environments_group`

Data type: `Optional[String]`

The group owning the environments directory.

Default value: `$puppet::server_environments_group`

##### <a name="-puppet--server--environments_mode"></a>`environments_mode`

Data type: `Pattern[/^[0-9]{3,4}$/]`

Environments directory mode.

Default value: `$puppet::server_environments_mode`

##### <a name="-puppet--server--environments_recurse"></a>`environments_recurse`

Data type: `Boolean`

Should the environments directory be managed recursively.

Default value: `$puppet::server_environments_recurse`

##### <a name="-puppet--server--envs_dir"></a>`envs_dir`

Data type: `Array[Stdlib::Absolutepath, 1]`

List of directories that hold puppet environments.
All listed directories will be created and attributes managed,
but only the first listed path will be used to populate
environments from git repo branches.

Default value: `$puppet::server_envs_dir`

##### <a name="-puppet--server--envs_target"></a>`envs_target`

Data type: `Optional[Stdlib::Absolutepath]`

Indicates that $envs_dir should be a symbolic link to this target.

Default value: `$puppet::server_envs_target`

##### <a name="-puppet--server--common_modules_path"></a>`common_modules_path`

Data type: `Variant[Undef, String[0], Array[Stdlib::Absolutepath]]`

Common modules paths.

Default value: `$puppet::server_common_modules_path`

##### <a name="-puppet--server--git_repo_path"></a>`git_repo_path`

Data type: `Stdlib::Absolutepath`

Git repository path on disk.

Default value: `$puppet::server_git_repo_path`

##### <a name="-puppet--server--git_repo_umask"></a>`git_repo_umask`

Data type: `Pattern[/^[0-9]{3,4}$/]`

Umask used during git operations.

Default value: `$puppet::server_git_repo_umask`

##### <a name="-puppet--server--git_repo_hook_mode"></a>`git_repo_hook_mode`

Data type: `Pattern[/^[0-9]{3,4}$/]`

Git repository hook mode.

Default value: `$puppet::server_git_repo_hook_mode`

##### <a name="-puppet--server--git_repo_group"></a>`git_repo_group`

Data type: `String`

Git repository group.

Default value: `$puppet::server_git_repo_group`

##### <a name="-puppet--server--git_repo_user"></a>`git_repo_user`

Data type: `String`

Git repository user.

Default value: `$puppet::server_git_repo_user`

##### <a name="-puppet--server--git_branch_map"></a>`git_branch_map`

Data type: `Hash[String, String]`

Git branch to puppet env mapping for the default post receive hook.

Default value: `$puppet::server_git_branch_map`

##### <a name="-puppet--server--post_hook_content"></a>`post_hook_content`

Data type: `String`

Which template to use for git post hook.

Default value: `$puppet::server_post_hook_content`

##### <a name="-puppet--server--post_hook_name"></a>`post_hook_name`

Data type: `String`

Name of a git hook.

Default value: `$puppet::server_post_hook_name`

##### <a name="-puppet--server--storeconfigs"></a>`storeconfigs`

Data type: `Boolean`

Whether to enable storeconfigs.

Default value: `$puppet::server_storeconfigs`

##### <a name="-puppet--server--ssl_dir"></a>`ssl_dir`

Data type: `Stdlib::Absolutepath`

SSL directory.

Default value: `$puppet::server_ssl_dir`

##### <a name="-puppet--server--package"></a>`package`

Data type: `Optional[Variant[String, Array[String]]]`

Custom package name for puppet server.

Default value: `$puppet::server_package`

##### <a name="-puppet--server--version"></a>`version`

Data type: `Optional[String]`

Custom package version for puppet server.

Default value: `$puppet::server_version`

##### <a name="-puppet--server--certname"></a>`certname`

Data type: `String`

The name to use when handling certificates.

Default value: `$puppet::server_certname`

##### <a name="-puppet--server--strict_variables"></a>`strict_variables`

Data type: `Boolean`

If set to true, it will throw parse errors when accessing undeclared variables.

Default value: `$puppet::server_strict_variables`

##### <a name="-puppet--server--additional_settings"></a>`additional_settings`

Data type: `Hash[String, Data]`

A hash of additional settings.
Example: {trusted_node_data => true, ordering => 'manifest'}.

Default value: `$puppet::server_additional_settings`

##### <a name="-puppet--server--parser"></a>`parser`

Data type: `Enum['current', 'future']`

Sets the parser to use. Valid options are 'current' or 'future'.
Defaults to 'current'.

Default value: `$puppet::server_parser`

##### <a name="-puppet--server--max_open_files"></a>`max_open_files`

Data type: `Optional[Integer[1]]`

Increase the max open files limit for Puppetserver.

Default value: `$puppet::server_max_open_files`

##### <a name="-puppet--server--codedir"></a>`codedir`

Data type: `Stdlib::Absolutepath`

Override the puppet code directory.

Default value: `$puppet::codedir`

##### <a name="-puppet--server--server_foreman_facts"></a>`server_foreman_facts`

Data type: `Boolean`

Should foreman receive facts from puppet.

Default value: `$puppet::server_foreman_facts`

##### <a name="-puppet--server--foreman"></a>`foreman`

Data type: `Boolean`

Should foreman integration be installed.

Default value: `$puppet::server_foreman`

##### <a name="-puppet--server--foreman_url"></a>`foreman_url`

Data type: `Optional[Stdlib::HTTPUrl]`

Foreman URL.

Default value: `$puppet::server_foreman_url`

##### <a name="-puppet--server--foreman_ssl_ca"></a>`foreman_ssl_ca`

Data type: `Optional[Stdlib::Absolutepath]`

SSL CA of the Foreman server.

Default value: `$puppet::server_foreman_ssl_ca`

##### <a name="-puppet--server--foreman_ssl_cert"></a>`foreman_ssl_cert`

Data type: `Optional[Stdlib::Absolutepath]`

Client certificate for authenticating against Foreman server.

Default value: `$puppet::server_foreman_ssl_cert`

##### <a name="-puppet--server--foreman_ssl_key"></a>`foreman_ssl_key`

Data type: `Optional[Stdlib::Absolutepath]`

Key for authenticating against Foreman server.

Default value: `$puppet::server_foreman_ssl_key`

##### <a name="-puppet--server--puppet_basedir"></a>`puppet_basedir`

Data type: `Optional[Stdlib::Absolutepath]`

Where is the puppet code base located.

Default value: `$puppet::server_puppet_basedir`

##### <a name="-puppet--server--compile_mode"></a>`compile_mode`

Data type: `Optional[Enum['off', 'jit', 'force']]`

Used to control JRuby's "CompileMode", which may improve performance.

Default value: `$puppet::server_compile_mode`

##### <a name="-puppet--server--request_timeout"></a>`request_timeout`

Data type: `Integer[0]`

Timeout in node.rb script for fetching catalog from Foreman (in seconds).

Default value: `$puppet::server_request_timeout`

##### <a name="-puppet--server--environment_timeout"></a>`environment_timeout`

Data type: `Variant[Undef, Enum['unlimited'], Pattern[/^\d+[smhdy]?$/]]`

Timeout for cached compiled catalogs (10s, 5m, ...).

Default value: `$puppet::server_environment_timeout`

##### <a name="-puppet--server--jvm_java_bin"></a>`jvm_java_bin`

Data type: `Optional[Stdlib::Absolutepath]`

Set the default java to use.

Default value: `$puppet::server_jvm_java_bin`

##### <a name="-puppet--server--jvm_config"></a>`jvm_config`

Data type: `String`

Specify the puppetserver jvm configuration file.

Default value: `$puppet::server_jvm_config`

##### <a name="-puppet--server--jvm_min_heap_size"></a>`jvm_min_heap_size`

Data type: `Pattern[/^[0-9]+[kKmMgG]$/]`

Specify the minimum jvm heap space.

Default value: `$puppet::server_jvm_min_heap_size`

##### <a name="-puppet--server--jvm_max_heap_size"></a>`jvm_max_heap_size`

Data type: `Pattern[/^[0-9]+[kKmMgG]$/]`

Specify the maximum jvm heap space.

Default value: `$puppet::server_jvm_max_heap_size`

##### <a name="-puppet--server--jvm_extra_args"></a>`jvm_extra_args`

Data type: `Optional[Variant[String,Array[String]]]`

Additional java options to pass through.
This can be used for Java versions prior to Java 8 to specify the max perm space to use:
For example: '-XX:MaxPermSize=128m'.

Default value: `$puppet::server_jvm_extra_args`

##### <a name="-puppet--server--jvm_cli_args"></a>`jvm_cli_args`

Data type: `Optional[String]`

Java options to use when using puppetserver subcommands (eg puppetserver gem).

Default value: `$puppet::server_jvm_cli_args`

##### <a name="-puppet--server--jruby_gem_home"></a>`jruby_gem_home`

Data type: `Optional[Stdlib::Absolutepath]`

Where jruby gems are located for puppetserver.

Default value: `$puppet::server_jruby_gem_home`

##### <a name="-puppet--server--server_environment_vars"></a>`server_environment_vars`

Data type: `Hash[String, String]`

A hash of environment variables and their values which the puppetserver is allowed to see.
To pass an existing variable use {'MYVAR': '${MYVAR}'}.

Default value: `$puppet::server_environment_vars`

##### <a name="-puppet--server--default_manifest"></a>`default_manifest`

Data type: `Boolean`

Toggle if default_manifest setting should be added to the [main] section.

Default value: `$puppet::server_default_manifest`

##### <a name="-puppet--server--default_manifest_path"></a>`default_manifest_path`

Data type: `Stdlib::Absolutepath`

A string setting the path to the default_manifest.

Default value: `$puppet::server_default_manifest_path`

##### <a name="-puppet--server--default_manifest_content"></a>`default_manifest_content`

Data type: `String`

A string to set the content of the default_manifest.
If set to '' it will not manage the file.

Default value: `$puppet::server_default_manifest_content`

##### <a name="-puppet--server--ssl_dir_manage"></a>`ssl_dir_manage`

Data type: `Boolean`

Toggle if ssl_dir should be added to the [server] configuration section.
This is necessary to disable in case CA is delegated to a separate instance.

Default value: `$puppet::server_ssl_dir_manage`

##### <a name="-puppet--server--ssl_key_manage"></a>`ssl_key_manage`

Data type: `Boolean`

Toggle if "private_keys/${::puppet::server::certname}.pem" should be created
with default user and group. This is used in the default Forman setup to
reuse the key for TLS communication.

Default value: `$puppet::server_ssl_key_manage`

##### <a name="-puppet--server--puppetserver_vardir"></a>`puppetserver_vardir`

Data type: `Stdlib::Absolutepath`

The path of the puppetserver var dir.

Default value: `$puppet::server_puppetserver_vardir`

##### <a name="-puppet--server--puppetserver_rundir"></a>`puppetserver_rundir`

Data type: `Optional[Stdlib::Absolutepath]`

The path of the puppetserver run dir.

Default value: `$puppet::server_puppetserver_rundir`

##### <a name="-puppet--server--puppetserver_logdir"></a>`puppetserver_logdir`

Data type: `Optional[Stdlib::Absolutepath]`

The path of the puppetserver log dir.

Default value: `$puppet::server_puppetserver_logdir`

##### <a name="-puppet--server--puppetserver_dir"></a>`puppetserver_dir`

Data type: `Stdlib::Absolutepath`

The path of the puppetserver config dir.

Default value: `$puppet::server_puppetserver_dir`

##### <a name="-puppet--server--puppetserver_version"></a>`puppetserver_version`

Data type: `Optional[Pattern[/^[\d]\.[\d]+\.[\d]+$/]]`

The version of puppetserver installed (or being installed).
Unfortunately, different versions of puppetserver need configuring differently.
By default we attempt to derive the version from the puppet version itself but
can be overriden if you're installing an older version.

Default value: `$puppet::server_puppetserver_version`

##### <a name="-puppet--server--max_active_instances"></a>`max_active_instances`

Data type: `Integer[1]`

Max number of active jruby instances. Defaults to processor count.

Default value: `$puppet::server_max_active_instances`

##### <a name="-puppet--server--max_requests_per_instance"></a>`max_requests_per_instance`

Data type: `Integer[0]`

Max number of requests per jruby instance. Defaults to 0 (disabled).

Default value: `$puppet::server_max_requests_per_instance`

##### <a name="-puppet--server--max_queued_requests"></a>`max_queued_requests`

Data type: `Integer[0]`

The maximum number of requests that may be queued waiting to borrow a
JRuby from the pool. Defaults to 0 (disabled).

Default value: `$puppet::server_max_queued_requests`

##### <a name="-puppet--server--max_retry_delay"></a>`max_retry_delay`

Data type: `Integer[0]`

Sets the upper limit for the random sleep set as a Retry-After header on
503 responses returned when max-queued-requests is enabled. Defaults to 1800.

Default value: `$puppet::server_max_retry_delay`

##### <a name="-puppet--server--multithreaded"></a>`multithreaded`

Data type: `Boolean`

Use multithreaded jruby. Defaults to false.

Default value: `$puppet::server_multithreaded`

##### <a name="-puppet--server--idle_timeout"></a>`idle_timeout`

Data type: `Integer[0]`

How long the server will wait for a response on an existing connection.

Default value: `$puppet::server_idle_timeout`

##### <a name="-puppet--server--connect_timeout"></a>`connect_timeout`

Data type: `Integer[0]`

How long the server will wait for a response to a connection attempt.

Default value: `$puppet::server_connect_timeout`

##### <a name="-puppet--server--web_idle_timeout"></a>`web_idle_timeout`

Data type: `Integer[0]`

Time in ms that Jetty allows a socket to be idle, after processing has completed.
Defaults to the Jetty default of 30s.

Default value: `$puppet::server_web_idle_timeout`

##### <a name="-puppet--server--ssl_protocols"></a>`ssl_protocols`

Data type: `Array[String]`

Array of SSL protocols to use. Defaults to [ 'TLSv1.3', 'TLSv1.2' ].

Default value: `$puppet::server_ssl_protocols`

##### <a name="-puppet--server--ssl_chain_filepath"></a>`ssl_chain_filepath`

Data type: `Optional[Stdlib::Absolutepath]`

Path to certificate chain for puppetserver.
Defaults to "${ssl_dir}/ca/ca_crt.pem".

Default value: `$puppet::server_ssl_chain_filepath`

##### <a name="-puppet--server--cipher_suites"></a>`cipher_suites`

Data type: `Array[String]`

List of SSL ciphers to use in negotiation.
Defaults to [ 'TLS_RSA_WITH_AES_256_CBC_SHA256', 'TLS_RSA_WITH_AES_256_CBC_SHA',
'TLS_RSA_WITH_AES_128_CBC_SHA256', 'TLS_RSA_WITH_AES_128_CBC_SHA', ].

Default value: `$puppet::server_cipher_suites`

##### <a name="-puppet--server--ruby_load_paths"></a>`ruby_load_paths`

Data type: `Array[Stdlib::Absolutepath]`

List of ruby paths.

Default value: `$puppet::server_ruby_load_paths`

##### <a name="-puppet--server--ca_client_allowlist"></a>`ca_client_allowlist`

Data type: `Array[String]`

The allowlist of client certificates that can query the certificate-status endpoint.
Defaults to [ '127.0.0.1', '::1', $::ipaddress ].

Default value: `$puppet::server_ca_client_allowlist`

##### <a name="-puppet--server--custom_trusted_oid_mapping"></a>`custom_trusted_oid_mapping`

Data type: `Optional[Puppet::Custom_trusted_oid_mapping]`

A hash of custom trusted oid mappings.
Example: { 1.3.6.1.4.1.34380.1.2.1.1 => { shortname => 'myshortname' } }.

Default value: `$puppet::server_custom_trusted_oid_mapping`

##### <a name="-puppet--server--admin_api_allowlist"></a>`admin_api_allowlist`

Data type: `Array[String]`

The allowlist of clients that can query the puppet-admin-api endpoint.
Defaults to [ '127.0.0.1', '::1', $::ipaddress ].

Default value: `$puppet::server_admin_api_allowlist`

##### <a name="-puppet--server--ca_auth_required"></a>`ca_auth_required`

Data type: `Boolean`

Whether client certificates are needed to access the puppet-admin api.
Defaults to true.

Default value: `$puppet::server_ca_auth_required`

##### <a name="-puppet--server--ca_client_self_delete"></a>`ca_client_self_delete`

Data type: `Boolean`

Adds a rule to auth.conf, that allows a client to self delete its own certificate.
Defaults to false.

Default value: `$puppet::server_ca_client_self_delete`

##### <a name="-puppet--server--check_for_updates"></a>`check_for_updates`

Data type: `Boolean`

Should the puppetserver phone home to check for available updates?

Default value: `$puppet::server_check_for_updates`

##### <a name="-puppet--server--environment_class_cache_enabled"></a>`environment_class_cache_enabled`

Data type: `Boolean`

Enable environment class cache in conjunction with the use of the environment_classes API.

Default value: `$puppet::server_environment_class_cache_enabled`

##### <a name="-puppet--server--allow_header_cert_info"></a>`allow_header_cert_info`

Data type: `Boolean`

Allow client authentication over HTTP Headers.
Defaults to false, is also activated by the $http setting.

Default value: `$puppet::server_allow_header_cert_info`

##### <a name="-puppet--server--puppetserver_metrics"></a>`puppetserver_metrics`

Data type: `Optional[Boolean]`

Enable puppetserver http-client metrics.
Defaults to false because that's the Puppet Inc. default behaviour.

Default value: `$puppet::server_puppetserver_metrics`

##### <a name="-puppet--server--puppetserver_profiler"></a>`puppetserver_profiler`

Data type: `Boolean`

Enable JRuby profiling.
Defaults to false because that's the Puppet Inc. default behaviour.

Default value: `$puppet::server_puppetserver_profiler`

##### <a name="-puppet--server--puppetserver_telemetry"></a>`puppetserver_telemetry`

Data type: `Optional[Boolean]`

Enable Dropsonde telemetry.
Undef means disabled while booleans are explicit opt-in or opt-out.
This is different from Puppetserver's default values.

Default value: `$puppet::server_puppetserver_telemetry`

##### <a name="-puppet--server--metrics_jmx_enable"></a>`metrics_jmx_enable`

Data type: `Boolean`

Enable or disable JMX metrics reporter. Defaults to true.

Default value: `$puppet::server_metrics_jmx_enable`

##### <a name="-puppet--server--metrics_graphite_enable"></a>`metrics_graphite_enable`

Data type: `Boolean`

Enable or disable Graphite metrics reporter. Defaults to false.

Default value: `$puppet::server_metrics_graphite_enable`

##### <a name="-puppet--server--metrics_graphite_host"></a>`metrics_graphite_host`

Data type: `String`

Graphite server host. Defaults to "127.0.0.1".

Default value: `$puppet::server_metrics_graphite_host`

##### <a name="-puppet--server--metrics_graphite_port"></a>`metrics_graphite_port`

Data type: `Stdlib::Port`

Graphite server port. Defaults to 2003.

Default value: `$puppet::server_metrics_graphite_port`

##### <a name="-puppet--server--metrics_server_id"></a>`metrics_server_id`

Data type: `String`

A server id that will be used as part of the namespace for metrics produced.
Defaults to $fqdn.

Default value: `$puppet::server_metrics_server_id`

##### <a name="-puppet--server--metrics_graphite_interval"></a>`metrics_graphite_interval`

Data type: `Integer`

How often to send metrics to graphite (in seconds). Defaults to 5.

Default value: `$puppet::server_metrics_graphite_interval`

##### <a name="-puppet--server--metrics_allowed"></a>`metrics_allowed`

Data type: `Variant[Undef, Array]`

Specify metrics to allow in addition to those in the default list.
Defaults to undef.

Default value: `$puppet::server_metrics_allowed`

##### <a name="-puppet--server--puppetserver_experimental"></a>`puppetserver_experimental`

Data type: `Boolean`

Enable the /puppet/experimental route? Defaults to true.

Default value: `$puppet::server_puppetserver_experimental`

##### <a name="-puppet--server--puppetserver_auth_template"></a>`puppetserver_auth_template`

Data type: `Optional[String[1]]`

Template for generating /etc/puppetlabs/puppetserver/conf.d/auth.conf.

Default value: `$puppet::server_puppetserver_auth_template`

##### <a name="-puppet--server--puppetserver_trusted_agents"></a>`puppetserver_trusted_agents`

Data type: `Array[String]`

Certificate names of agents that are allowed to fetch *all* catalogs. Defaults to empty array.

Default value: `$puppet::server_puppetserver_trusted_agents`

##### <a name="-puppet--server--puppetserver_trusted_certificate_extensions"></a>`puppetserver_trusted_certificate_extensions`

Data type: `Array[Hash]`

An array of hashes of certificate extensions and values.
Example: [{ 'pp_authorization' => 'catalog' }].

Default value: `$puppet::server_puppetserver_trusted_certificate_extensions`

##### <a name="-puppet--server--ca_allow_sans"></a>`ca_allow_sans`

Data type: `Boolean`

Allow CA to sign certificate requests that have Subject Alternative Names.
Defaults to false.

Default value: `$puppet::server_ca_allow_sans`

##### <a name="-puppet--server--ca_allow_auth_extensions"></a>`ca_allow_auth_extensions`

Data type: `Boolean`

Allow CA to sign certificate requests that have authorization extensions.
Defaults to false.

Default value: `$puppet::server_ca_allow_auth_extensions`

##### <a name="-puppet--server--ca_enable_infra_crl"></a>`ca_enable_infra_crl`

Data type: `Boolean`

Enable the separate CRL for Puppet infrastructure nodes. Defaults to false.

Default value: `$puppet::server_ca_enable_infra_crl`

##### <a name="-puppet--server--server_ca_allow_auto_renewal"></a>`server_ca_allow_auto_renewal`

Data type: `Boolean`

Enable the auto renewal for client certificates. Defaults to false.

Default value: `$puppet::server_ca_allow_auto_renewal`

##### <a name="-puppet--server--server_ca_allow_auto_renewal_cert_ttl"></a>`server_ca_allow_auto_renewal_cert_ttl`

Data type: `String`

Set the auto renewal interval for client certificates. Defaults to 60d.

Default value: `$puppet::server_ca_allow_auto_renewal_cert_ttl`

##### <a name="-puppet--server--acceptor_threads"></a>`acceptor_threads`

Data type: `Optional[Integer[1]]`

This sets the number of threads that the webserver will dedicate to accepting
socket connections for unencrypted HTTP traffic. If not provided, the webserver
defaults to the number of virtual cores on the host divided by 8, with a minimum
of 1 and maximum of 4.

Default value: `$puppet::server_acceptor_threads`

##### <a name="-puppet--server--selector_threads"></a>`selector_threads`

Data type: `Optional[Integer[1]]`

This sets the number of selectors that the webserver will dedicate to processing
events on connected sockets for unencrypted HTTPS traffic. If not provided,
the webserver defaults to the minimum of: virtual cores on the host divided by 2
or max-threads divided by 16, with a minimum of 1.

Default value: `$puppet::server_selector_threads`

##### <a name="-puppet--server--max_threads"></a>`max_threads`

Data type: `Optional[Integer[1]]`

This sets the maximum number of threads assigned to responding to HTTP and/or
HTTPS requests for a single webserver, effectively changing how many
concurrent requests can be made at one time. If not provided, the
webserver defaults to 200.

Default value: `$puppet::server_max_threads`

##### <a name="-puppet--server--ssl_acceptor_threads"></a>`ssl_acceptor_threads`

Data type: `Optional[Integer[1]]`

This sets the number of threads that the webserver will dedicate to accepting
socket connections for encrypted HTTPS traffic. If not provided, defaults to
the number of virtual cores on the host divided by 8, with a minimum of 1 and maximum of 4.

Default value: `$puppet::server_ssl_acceptor_threads`

##### <a name="-puppet--server--ssl_selector_threads"></a>`ssl_selector_threads`

Data type: `Optional[Integer[1]]`

This sets the number of selectors that the webserver will dedicate to processing
events on connected sockets for encrypted HTTPS traffic. Defaults to the number of
virtual cores on the host divided by 2, with a minimum of 1 and maximum of 4.
The number of selector threads actually used by Jetty is twice the number of selectors
requested. For example, if a value of 3 is specified for the ssl-selector-threads setting,
Jetty will actually use 6 selector threads.

Default value: `$puppet::server_ssl_selector_threads`

##### <a name="-puppet--server--versioned_code_id"></a>`versioned_code_id`

Data type: `Optional[Stdlib::Absolutepath]`

The path to an executable script that Puppet Server invokes to generate a code_id.

Default value: `$puppet::server_versioned_code_id`

##### <a name="-puppet--server--versioned_code_content"></a>`versioned_code_content`

Data type: `Optional[Stdlib::Absolutepath]`

Contains the path to an executable script that Puppet Server invokes when an agent makes
a static_file_content API request for the contents of a file resource that
has a source attribute with a puppet:/// URI value.

Default value: `$puppet::server_versioned_code_content`

##### <a name="-puppet--server--jolokia_metrics_allowlist"></a>`jolokia_metrics_allowlist`

Data type: `Array[String[1]]`

The allowlist of clients that can query the jolokia /metrics/v2 endpoint.

Default value: `$puppet::server_jolokia_metrics_allowlist`

### <a name="puppet--server--puppetdb"></a>`puppet::server::puppetdb`

This class relies on the puppetlabs/puppetdb and essentially wraps
puppetdb::master::config with the proper resource chaining.

Note that this doesn't manage the server itself.

#### Examples

##### 

```puppet
class { 'puppet':
  server              => true,
  server_reports      => 'puppetdb,foreman',
  server_storeconfigs => true,
}
class { 'puppet::server::puppetdb':
  server => 'mypuppetdb.example.com',
}
```

#### Parameters

The following parameters are available in the `puppet::server::puppetdb` class:

* [`server`](#-puppet--server--puppetdb--server)
* [`port`](#-puppet--server--puppetdb--port)
* [`soft_write_failure`](#-puppet--server--puppetdb--soft_write_failure)
* [`terminus_package`](#-puppet--server--puppetdb--terminus_package)

##### <a name="-puppet--server--puppetdb--server"></a>`server`

Data type: `Stdlib::Host`

The PuppetDB server

Default value: `undef`

##### <a name="-puppet--server--puppetdb--port"></a>`port`

Data type: `Stdlib::Port`

The PuppetDB port

Default value: `8081`

##### <a name="-puppet--server--puppetdb--soft_write_failure"></a>`soft_write_failure`

Data type: `Boolean`

Whether to enable soft write failure

Default value: `false`

##### <a name="-puppet--server--puppetdb--terminus_package"></a>`terminus_package`

Data type: `Optional[String[1]]`

The PuppetDB terminus package

Default value: `undef`

## Defined types

### <a name="puppet--config--agent"></a>`puppet::config::agent`

Set a config entry in the [agent] section

#### Parameters

The following parameters are available in the `puppet::config::agent` defined type:

* [`value`](#-puppet--config--agent--value)
* [`key`](#-puppet--config--agent--key)
* [`joiner`](#-puppet--config--agent--joiner)

##### <a name="-puppet--config--agent--value"></a>`value`

Data type: `Variant[Array[String], Boolean, String, Integer]`

The value for the config entry

##### <a name="-puppet--config--agent--key"></a>`key`

Data type: `String`

The key of the config entry

Default value: `$name`

##### <a name="-puppet--config--agent--joiner"></a>`joiner`

Data type: `String`

How to join an array value into a string

Default value: `','`

### <a name="puppet--config--entry"></a>`puppet::config::entry`

Set a config entry

#### Parameters

The following parameters are available in the `puppet::config::entry` defined type:

* [`key`](#-puppet--config--entry--key)
* [`value`](#-puppet--config--entry--value)
* [`section`](#-puppet--config--entry--section)
* [`sectionorder`](#-puppet--config--entry--sectionorder)
* [`joiner`](#-puppet--config--entry--joiner)

##### <a name="-puppet--config--entry--key"></a>`key`

Data type: `String`

The key of the config entry

##### <a name="-puppet--config--entry--value"></a>`value`

Data type: `Variant[Array[String], Boolean, String, Integer]`

The value for the config entry

##### <a name="-puppet--config--entry--section"></a>`section`

Data type: `String`

The section for the config entry

##### <a name="-puppet--config--entry--sectionorder"></a>`sectionorder`

Data type: `Variant[Integer[0], String]`

How to order the section. This is only used on the first definition of the
section via ensure_resource.

Default value: `5`

##### <a name="-puppet--config--entry--joiner"></a>`joiner`

Data type: `String`

How to join an array value into a string

Default value: `','`

### <a name="puppet--config--main"></a>`puppet::config::main`

Set a config entry in the [main] section

#### Parameters

The following parameters are available in the `puppet::config::main` defined type:

* [`value`](#-puppet--config--main--value)
* [`key`](#-puppet--config--main--key)
* [`joiner`](#-puppet--config--main--joiner)

##### <a name="-puppet--config--main--value"></a>`value`

Data type: `Variant[Array[String], Boolean, String, Integer]`

The value for the config entry

##### <a name="-puppet--config--main--key"></a>`key`

Data type: `String`

The key of the config entry

Default value: `$name`

##### <a name="-puppet--config--main--joiner"></a>`joiner`

Data type: `String`

How to join an array value into a string

Default value: `','`

### <a name="puppet--config--server"></a>`puppet::config::server`

Set a config entry in the [server] section

#### Parameters

The following parameters are available in the `puppet::config::server` defined type:

* [`value`](#-puppet--config--server--value)
* [`key`](#-puppet--config--server--key)
* [`joiner`](#-puppet--config--server--joiner)

##### <a name="-puppet--config--server--value"></a>`value`

Data type: `Variant[Array[String], Boolean, String, Integer]`

The value for the config entry

##### <a name="-puppet--config--server--key"></a>`key`

Data type: `String`

The key of the config entry

Default value: `$name`

##### <a name="-puppet--config--server--joiner"></a>`joiner`

Data type: `String`

How to join an array value into a string

Default value: `','`

## Data types

### <a name="Puppet--Custom_trusted_oid_mapping"></a>`Puppet::Custom_trusted_oid_mapping`

This type defines the structure for custom trusted OID mappings used in Puppet's
trusted facts system. It allows mapping custom OIDs to human-readable names.

#### Examples

##### Basic usage

```puppet
$custom_oids = {
  '1.3.6.1.4.1.34380.1.2.1.1' => {
    'shortname' => 'pp_role',
    'longname'  => 'Puppet Role'
  }
}
```

##### Multiple OID mappings

```puppet
$custom_oids = {
  '1.3.6.1.4.1.34380.1.1.13' => {
    'shortname' => 'pp_environment'
  },
  '1.3.6.1.4.1.34380.1.1.24' => {
    'shortname' => 'pp_datacenter',
    'longname'  => 'Puppet Datacenter'
  }
}
```

Alias of `Hash[String, Struct[{ shortname => String, longname  => Optional[String], }]]`

